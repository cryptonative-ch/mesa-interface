(this["webpackJsonpmesa-interface"]=this["webpackJsonpmesa-interface"]||[]).push([[0],{354:function(e,t){},400:function(e,t,n){},430:function(e,t){},445:function(e,t){},447:function(e,t){},456:function(e,t,n){"use strict";n.r(t);var i,r=n(176),a=n(31),o=n(25),c=n(79),s=n.n(c),l=n(1),d=n.n(l),u=n(29),p=n.n(u),b=n(232),f=n.n(b),x=n(233),j=n.n(x),h=n(234),m=n.n(h),O=n(139),g=n.n(O),y=n(235),v=n.n(y),w=n(129),k=(n(361),n(244)),S=n(14),I=n(3),D=n.n(I),T=n(26);!function(e){e.SALES_FETCH_REQUEST="sales/fetch/request",e.SALES_FETCH_SUCCESS="sales/fetch/success",e.SALES_FETCH_COMPLETE="sales/fetch/complete",e.SALES_FETCH_ERROR="sales/fetch/error"}(i||(i={}));var C=function(e){return{payload:e,type:i.SALES_FETCH_SUCCESS}},E=function(e){return{payload:e,type:i.SALES_FETCH_ERROR}},A={isLoading:!1,updatedAt:0,sales:[],error:null};var F,M=n(35),_=n(49),P=n(124),B=n.n(P),R=(n.p,n.p,n(18)),z=function(e){for(var t="0";t.length<256;)t+=t;if(e>=0&&e<=256&&!(e%1))return"1"+t.substring(0,e);throw new Error("invalid decimal")},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=String(e),i=n.match(/(?<=\.)(.*)/),r=n.match(/(.*)(?=\.)/),a=z(t),o=n+a.slice(n.length);if(null!=r&&(o=r[1]),null!=i&&null!=r){var c=a.slice(i[1].length+1);o=r[1]+i[1]+c}return o},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return R.a.from(L(e,t))},W=p()((new Date).toUTCString()),H=(p.a.unix(W.unix()),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=R.a.from(e),i=z(t),r=n.lt(R.a.from(0));r&&(n=n.mul(R.a.from(-1)));for(var a=n.mod(i).toString();a.length<i.length-1;)a="0"+a;a=a.match(/^([0-9]*[1-9]|0)(0*)/)[1];var o=n.div(i).toString();return n=o+"."+a,r&&(n="-"+n),Number(n)}),U=function(e,t){var n=Math.pow(10,t||0);return Math.round(e*n)/n},G=function(){var e=Object(T.a)(D.a.mark((function e(t,n){var i,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("FixedPriceSale"!=n){e.next=7;break}return e.next=3,t;case 3:e.t0=n,i=e.sent[e.t0].purchases.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{amount:N(e.amount)})})),e.next=11;break;case 7:return e.next=9,t;case 9:e.t1=n,i=e.sent[e.t1].bids.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{tokenOut:N(e.tokenOutAmount),tokenIn:N(e.tokenInAmount)})}));case 11:return r=i.reduce((function(e,t){return Object(M.a)({},t.sale.id,{lastUpdated:Date.now(),bids:i})}),{}),e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function V(){return(V=Object(T.a)(D.a.mark((function e(t,n){var i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.post(t,{query:n});case 2:return i=e.sent,e.abrupt("return",i.data.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e.INITIAL_BID_REQUEST="INITIAL_BID_REQUEST",e.INITIAL_BID_SUCCESS="INITIAL_BID_SUCCESS",e.INITIAL_BID_FAILURE="INITIAL_BID_FAILURE",e.UPDATE_BID_REQUEST="UPDATE_BID_REQUEST",e.UPDATE_BID_SUCCESS="UPDATE_BID_SUCCESS",e.UPDATE_BID_FAILURE="UPDATE_BID_FAILURE"}(F||(F={}));var K=function(e){return{payload:e,type:F.INITIAL_BID_REQUEST}},q=function(e){return{payload:e,type:F.INITIAL_BID_SUCCESS}},X=function(e){return{payload:e,type:F.INITIAL_BID_FAILURE}},Y=function(e){return{payload:e,type:F.UPDATE_BID_REQUEST}},Q=function(e){return{payload:e,type:F.UPDATE_BID_SUCCESS}},J=function(e){return{payload:e,type:F.UPDATE_BID_FAILURE}},Z={isLoading:!0,error:null,bidsBySaleId:{}},$=function(e){return String(Object.getOwnPropertyNames(e)[0])},ee=function(e,t){return e.some((function(e){return e.id===t[0].id}))};var te,ne=Object({NODE_ENV:"production",PUBLIC_URL:"/mesa-interface",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUBGRAPH_ENDPOINT:"https://api.thegraph.com/subgraphs/name/adamazad/aqua-xdai-dev"}).REACT_APP_APP_NAME||"Mesa",ie=Object({NODE_ENV:"production",PUBLIC_URL:"/mesa-interface",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUBGRAPH_ENDPOINT:"https://api.thegraph.com/subgraphs/name/adamazad/aqua-xdai-dev"}).REACT_APP_INFURA_PROJECT_ID||"766514f6bce34bce82d3c32ed423f159",re=["BY","CU","IR","IQ","CI","LR","KP","SD","SY","ZW"],ae="0.0.1",oe="0.0.1",ce=[100];!function(e){e[e.MAINNET=1]="MAINNET",e[e.RINKEBY=4]="RINKEBY",e[e.XDAI=100]="XDAI"}(te||(te={}));var se,le,de={chainId:"0x64",chainName:"xDai",nativeCurrency:{name:"xDai",symbol:"xDai",decimals:18},rpcUrls:["https://rpc.xdaichain.com/"],blockExplorerUrls:["https://blockscout.com/xdai/mainnet"]},ue="https://gateway.pinata.cloud";!function(e){e.PAGE_SET_TITLE="page/title/set",e.PAGE_SET_PATH="page/path/set",e.PAGE_SET_SELECTED_SALE_STATUS="PAGE_SET_SELECTED_SALE_STATUS"}(se||(se={})),function(e){e.LIVE="Live",e.UPCOMING="upcoming",e.CLOSED="closed"}(le||(le={}));var pe,be=function(e){return function(t){var n="".concat(e," | ").concat(ne);document.title=n,t({type:se.PAGE_SET_TITLE,payload:n})}},fe={title:"Home",path:"/",selectedSaleStatus:le.LIVE};!function(e){e.NETWORK_SET_VALID_CHAIN_ID="NETWORK_SET_VALID_CHAIN_ID",e.NETWORK_SET_INVALID_CHAIN_ID="NETWORK_SET_INVALID_CHAIN_ID"}(pe||(pe={}));var xe={validChainId:!0};var je,he=Object(w.combineReducers)({page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.PAGE_SET_TITLE:return Object(S.a)(Object(S.a)({},e),{},{title:t.payload});case se.PAGE_SET_PATH:return Object(S.a)(Object(S.a)({},e),{},{path:t.payload});case se.PAGE_SET_SELECTED_SALE_STATUS:return Object(S.a)(Object(S.a)({},e),{},{selectedSaleStatus:t.payload});default:return e}},bids:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.INITIAL_BID_REQUEST:return Object(S.a)(Object(S.a)({},e),{},{isLoading:t.payload});case F.INITIAL_BID_SUCCESS:var n=$(t.payload),i=p.a.utc().unix();return Object(S.a)(Object(S.a)({},e),{},{isLoading:!1,bidsBySaleId:Object(S.a)(Object(S.a)({},e.bidsBySaleId),{},Object(M.a)({},n,e.bidsBySaleId[n]?ee(e.bidsBySaleId[n].bids,t.payload[n].bids)?{updatedAt:e.bidsBySaleId[n].updatedAt,bids:e.bidsBySaleId[n].bids}:{updatedAt:i,bids:[].concat(Object(_.a)(e.bidsBySaleId[n].bids),Object(_.a)(t.payload[n].bids))}:{updatedAt:i,bids:t.payload[n].bids}))});case F.INITIAL_BID_FAILURE:return Object(S.a)(Object(S.a)({},e),{},{isLoading:!1,error:t.payload});case F.UPDATE_BID_REQUEST:return Object(S.a)(Object(S.a)({},e),{},{isLoading:!0});case F.UPDATE_BID_SUCCESS:var r=p.a.utc().unix(),a=e.bidsBySaleId,o=t.payload.baseSale.id;return Object(S.a)(Object(S.a)({},e),{},{bidsBySaleId:Object(S.a)(Object(S.a)({},a),{},Object(M.a)({},o,ee(a[o].bids,[t.payload])?{updatedAt:a[o].updatedAt,bids:Object(_.a)(a[o].bids)}:{updatedAt:r,bids:[].concat(Object(_.a)(a[o].bids),[t.payload])}))});case F.UPDATE_BID_FAILURE:return Object(S.a)(Object(S.a)({},e),{},{error:t.payload});default:return e}},sales:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.SALES_FETCH_REQUEST:return Object(S.a)(Object(S.a)({},e),{},{isLoading:!0});case i.SALES_FETCH_SUCCESS:return Object(S.a)(Object(S.a)({},e),{},{isLoading:!1,sales:t.payload});case i.SALES_FETCH_ERROR:return Object(S.a)(Object(S.a)({},e),{},{isLoading:!1,error:t.payload,sales:[]});default:return e}},network:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe.NETWORK_SET_VALID_CHAIN_ID:return Object(S.a)(Object(S.a)({},e),{},{validChainId:!0});case pe.NETWORK_SET_INVALID_CHAIN_ID:return Object(S.a)(Object(S.a)({},e),{},{validChainId:!1});default:return e}}}),me=Object(w.createStore)(he,Object(w.applyMiddleware)(k.a)),Oe=n(11),ge=n(17),ye=n(155),ve=n(480),we=n(482),ke=n(479),Se=n(5),Ie=n(46),De=n(75),Te=n(478),Ce=n(157),Ee=n(114),Ae=n(9),Fe=n(8),Me=n(12),_e=n(13),Pe=n(257),Be=n(111),Re=n(37),ze=function(e){Object(Me.a)(n,e);var t=Object(_e.a)(n);function n(e,i,r){var a;return Object(Fe.a)(this,n),(a=t.call(this)).code=i,a.data=r,a.name=a.constructor.name,a.message=e,a}return n}(Object(Pe.a)(Error)),Le=function e(t,n){var i=this;Object(Fe.a)(this,e),this.isMetaMask=!1,this.chainId=void 0,this.url=void 0,this.host=void 0,this.path=void 0,this.sendAsync=function(e,t){i.request(e.method,e.params).then((function(n){return t(null,{jsonrpc:"2.0",id:e.id,result:n})})).catch((function(e){return t(e,null)}))},this.request=function(){var e=Object(T.a)(D.a.mark((function e(t,n){var r,a,o,c,s;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"!==typeof t&&(n=t.params,t=t.method),e.next=3,fetch(i.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:t,params:n})});case 3:if((r=e.sent).ok){e.next=6;break}throw new ze("".concat(r.status,": ").concat(r.statusText),-32e3);case 6:return e.next=8,r.json();case 8:if(!("error"in(a=e.sent))){e.next=13;break}throw new ze(null===a||void 0===a||null===(o=a.error)||void 0===o?void 0:o.message,null===a||void 0===a||null===(c=a.error)||void 0===c?void 0:c.code,null===a||void 0===a||null===(s=a.error)||void 0===s?void 0:s.data);case 13:if(!("result"in a)){e.next=17;break}return e.abrupt("return",a.result);case 17:throw new ze("Received unexpected JSON-RPC response to ".concat(t," request."),-32e3,a);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.chainId=t,this.url=n;var r=new URL(n);this.host=r.host,this.path=r.pathname},Ne=function(e){Object(Me.a)(n,e);var t=Object(_e.a)(n);function n(e){var i,r=e.urls,a=e.defaultChainId;return Object(Fe.a)(this,n),Object(Re.a)(a||1===Object.keys(r).length,"defaultChainId is a required argument with >1 url"),(i=t.call(this,{supportedChainIds:Object.keys(r).map((function(e){return Number(e)}))})).providers=void 0,i.currentChainId=void 0,i.currentChainId=a||Number(Object.keys(r)[0]),i.providers=Object.keys(r).reduce((function(e,t){return e[Number(t)]=new Le(Number(t),r[Number(t)]),e}),{}),i}return Object(Ae.a)(n,[{key:"activate",value:function(){var e=Object(T.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{provider:this.providers[this.currentChainId],chainId:this.currentChainId,account:null});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getProvider",value:function(){var e=Object(T.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.providers[this.currentChainId]);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getChainId",value:function(){var e=Object(T.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.currentChainId);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccount",value:function(){var e=Object(T.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deactivate",value:function(){}},{key:"changeChainId",value:function(e){Object(Re.a)(Object.keys(this.providers).includes(e.toString()),"No url found for chainId ".concat(e)),this.currentChainId=e,this.emitUpdate({provider:this.providers[this.currentChainId],chainId:e})}}]),n}(Be.a),We=(je={},Object(M.a)(je,te.RINKEBY,"https://rinkeby.infura.io/v3/".concat(ie)),Object(M.a)(je,te.XDAI,"https://rpc.xdaichain.com/"),je),He=(new Ne({urls:We,defaultChainId:te.XDAI}),new Ce.a({supportedChainIds:[te.RINKEBY,te.XDAI]})),Ue=new Ee.b({rpc:We,qrcode:!0,pollingInterval:12e3});function Ge(e){return e instanceof Ce.b?"No Ethereum browser extension detected, install MetaMask on desktop or visit from a dApp browser on mobile.":e instanceof o.a?"You're connected to an unsupported network.":e instanceof Ce.c||e instanceof Ee.a?"Please authorize this website to access your Ethereum account.":(console.error(e),"An unknown error occurred. Check the console for more details.")}var Ve,Ke,qe=d.a.createContext(!1),Xe=d.a.createContext({isShown:!1,result:!1,setResult:function(e){},toggleModal:function(){}}),Ye=d.a.createContext({isConnecting:!1,activatingConnector:void 0,connect:function(e){},disconnect:function(){}}),Qe=n(0);!function(e){e.Injected="Injected",e.WalletConnect="WalletConnect"}(Ke||(Ke={}));var Je,Ze=(Ve={},Object(M.a)(Ve,Ke.Injected,He),Object(M.a)(Ve,Ke.WalletConnect,Ue),Ve),$e=function(e){var t=e.children,n=Object(o.c)(),i=n.connector,r=n.activate,a=n.deactivate,c=Object(l.useState)(),s=Object(Oe.a)(c,2),d=s[0],u=s[1];Object(l.useEffect)((function(){He.isAuthorized().then((function(e){e&&r(He,void 0,!0).catch((function(e){console.error(Ge(e))}))}))}),[]),Object(l.useEffect)((function(){d&&Ze[d]===i&&u(void 0)}),[d,i]);var p=function(e){var t,n;e&&e instanceof Ee.b&&(null===(t=e.walletConnectProvider)||void 0===t||null===(n=t.wc)||void 0===n?void 0:n.uri)&&(e.walletConnectProvider=void 0)};return Object(Qe.jsx)(Ye.Provider,{value:{connect:function(e){u(e),e==Ke.WalletConnect&&p(Ze[e]),r(Ze[e]).catch((function(e){Ie.b.error("Failed to connect wallet"),console.error(Ge(e))}))},disconnect:function(){i instanceof Ee.b&&(i.close(),p(i)),a()},activatingConnector:d,isConnecting:!!d},children:t})},et=n(149),tt=(n(400),Object(Se.createGlobalStyle)(Je||(Je=Object(ge.a)(["\n\n  ","\n\n  html,\n  body,\n  #root {\n    height: 100%;\n    width: 100%;\n  }\n\n  ::selection {\n    background-color: #222;\n    color: #fff;\n  }\n\n  body {\n    -webkit-font-smoothing: antialiased;\n    -webkit-text-size-adjust: none;\n    -moz-osx-font-smoothing: grayscale;\n    text-rendering: optimizeSpeed;\n    color: ",";\n    text-align: left;\n    background-color: ",";\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    font-family: ",";\n  }\n\n  /* type */\n  h1 {\n    font-size: ","px;\n    font-weight: 300;\n  }\n\n  h2 {\n    font-size: ","px;\n    font-weight: 300;\n  }\n\n  h3 {\n    font-size: ","px;\n    font-weight: 300;\n  }\n\n  h4 {\n    font-size: ","px;\n    font-weight: 300;\n  }\n\n  h5 {\n    font-size: ","px;\n    font-weight: 300;\n  }\n\n  h6 {\n    font-size: ","px;\n    font-weight: 300;\n  }\n\n  p {\n    font-size: ","px;\n    a {\n      color: ",";\n      text-decoration: none;\n    }\n    @media (min-width: ",") {\n      & {\n         /* fallback for browsers that do not support calc */\n        font-size: ","px;\n        font-size: calc(.4vw + ","px);\n      }\n    }\n    @media (min-width: ",") {\n      & {\n        /* fallback for browsers that do not support calc */\n        font-size: ","px;\n        font-size: calc(.2vw + ","px);\n      }\n    }\n\n  }\n\n  blockquote {\n    p {\n      font-size: ","px;\n    }\n  }\n\n  a {\n    color: ",";\n    transition: all 0.2s;\n    &:hover {\n      color: ",";\n      text-decoration: underline;\n    }\n  }\n\n  input {\n    border-radius: 0x;\n    display: block;\n    width: 100%;\n    height: calc(1.5em + .75rem + 2px);\n    padding: 1.375rem .75rem;\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.5;\n    color: #495057;\n    background-color: #fff;\n    background-clip: padding-box;\n    border: 1px solid ",";\n    transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;\n  }\n\n  input:focus {\n    color: #495057;\n    background-color: #fff;\n    border-color: #80bdff;\n    outline: 0;\n  }\n  input[type='number'] {\n      -moz-appearance:textfield;\n  }\n\n  input::-webkit-outer-spin-button,\n  input::-webkit-inner-spin-button {\n      -webkit-appearance: none;\n  }\n"])),et.reboot,(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.background}),(function(e){return e.theme.fonts.headings}),(function(e){return e.theme.fontSizes[6]}),(function(e){return e.theme.fontSizes[5]}),(function(e){return e.theme.fontSizes[4]}),(function(e){return e.theme.fontSizes[3]}),(function(e){return e.theme.fontSizes[2]}),(function(e){return e.theme.fontSizes[1]}),(function(e){return e.theme.fontSizes[0]}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.breakpoints[0]}),(function(e){return e.theme.fontSizes[1]}),(function(e){return e.theme.fontSizes[0]}),(function(e){return e.theme.breakpoints[1]}),(function(e){return e.theme.fontSizes[1]}),(function(e){return e.theme.fontSizes[0]}),(function(e){return e.theme.fontSizes[4]}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.black}))),nt={sans:"'Inter', sans-serif",serif:"'Inter', sans-serif",body:"'Inter', sans-serif"},it=Object(S.a)(Object(S.a)({},et.defaultRebootTheme),{},{fontFamilyBase:nt.sans,fontFamilyMonospace:nt.monospace,fontFamilySerif:nt.serif,fontWeightBase:400,headingsMarginBottom:"1.5rem"}),rt=Object(S.a)(Object(S.a)({},it),{},{breakpoints:["480px","576px","768px","992px","1200px","1441px","1600px"],colors:{text:"#000",background:"#F2F2F2",primary:"#283618",secondary:"#283618",highlightBackground:"#222",highlightColor:"#222"},space:[0,4,8,16,24,32,64,128,256],fonts:nt,fontSizes:[12,16,18,20,22,24,28,32],buttons:{primary:{color:"black",backgroundColor:"white"}},radii:{base:"0px",circle:"50%"},grid:{display:"grid",gridTemplateColumns:["478px 478px","100%"],gap:["24px 24px","16px"]},header:{height:70,backgroundColor:"#606c38"},footer:{backgroundColor:"#222222"}}),at=(n(398),n(474)),ot=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(l.useState)(e),n=Object(Oe.a)(t,2),i=n[0],r=n[1],a=function(){return r(!i)};return{isShown:i,toggle:a,setShown:r}};function ct(){var e=Object(l.useState)({width:window.outerWidth,height:window.outerHeight}),t=Object(Oe.a)(e,2),n=t[0],i=t[1];return Object(l.useEffect)((function(){function e(){i({width:window.outerWidth,height:window.outerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),{windowSize:n,isMobile:n.width<=640}}var st=n(44),lt=n(484),dt=function(e){return Object(l.useEffect)(e,[])},ut=n(10),pt=Se.default.div({display:"flex"},ut.n,ut.d,ut.j,ut.e,ut.o,ut.c,ut.l),bt=Object(Se.default)(pt)((function(){return{flexDirection:"column",justifyContent:"center",alignItems:"center"}})),ft=Se.default.button((function(e){return{appearance:"none",padding:e.padding?"0px":"12px 16px",margin:e.formButton?"8px 0 0 0":e.margin?"5px":"auto",textAlign:"center",display:"inline-block",verticalAlign:"middle",userSelect:"none",backgroundColor:"transparent",border:e.border||e.formButton?"none":"1px solid ".concat(e.theme.colors.primary),borderRadius:e.formButton?0:e.rounded?"32px":e.theme.radii.base,fontSize:"1rem",fontWeight:400,fontFamily:"inherit",lineHeight:1.5,outline:e.formButton?"none":"unset",color:"black",":disabled":{opacity:e.formButton?1:.5},":focus":{outline:e.formButton?"none":"unset"},textDecoration:"none"}}),ut.f,ut.h,ut.g,ut.n,ut.j,ut.d,ut.k,Object(ut.q)({variants:{primary:{background:"#304FFE",color:"#FFFFFF",border:"none",":disabled":{background:"#DDDDE3",color:"black"}},link:{bg:"transparent",":hover":{textDecoration:"underline"}},secondary:{background:"#7B7F93",color:"#FFFFFF",border:"none",":disabled":{background:"#7B7F93",color:"black"}}}}),ut.a);ft.defaultProps={rounded:!1,formButton:!1,variant:"primary"};var xt=Se.default.h1((function(e){return{height:e.height||"44px",width:e.height||"100%",fontFamily:"Inter",fontSize:e.fontSize||"36px",fontStyle:"normal",fontWeight:e.fontWeight||600,lineHeight:e.height||"44px",letterSpacing:"0",textAlign:e.textAlign||"center",color:e.color||"#000629",marginBottom:e.marginBottom||"32px"}})),jt=Object(Se.default)(De.b)({fontWeight:"bold"},ut.m,ut.n,Object(ut.q)({variants:{default:{color:rt.colors.secondary,":hover":{color:rt.colors.secondary}},button:{padding:"".concat(rt.space[2],"px ").concat(rt.space[2],"px")}}}));function ht(){var e=Object(a.b)(),t=Object(lt.a)(),n=Object(Oe.a)(t,1)[0];return dt((function(){e(be(n("texts.notFound")))})),Object(Qe.jsxs)(bt,{minHeight:"100%",children:[Object(Qe.jsx)(xt,{color:"#7B7F93",fontSize:96,lineHeight:116,fontWeight:700,width:197,children:"404"}),Object(Qe.jsx)(xt,{marginBottom:56,width:800,children:n("texts.pageNotFound")}),Object(Qe.jsx)(jt,{to:"/",children:Object(Qe.jsx)(ft,{disabled:!1,"data-testid":"submit-button",type:"button",title:n("buttons.goBack"),formButton:!0,width:"235px",height:"48px",fontWeight:"500",padding:!1,fontSize:"14px",lineHeight:"21px",border:!0,background:"#304FFE",color:"#fff",children:n("buttons.goBack")})})]})}jt.defaultProps={variant:void 0};var mt,Ot,gt,yt=n(150),vt=Se.default.div(mt||(mt=Object(ge.a)(["\n  width: 100%;\n  background-color: #fff;\n  padding: 16px 24px;\n  outline: 0;\n  display: flex;\n  flex-direction: column;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n"]))),wt=(Se.default.div(Ot||(Ot=Object(ge.a)(["\n  padding: 0;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n"]))),Se.default.div(gt||(gt=Object(ge.a)(["\n  font-style: normal;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 21px;\n  color: #7b7f93;\n  padding: 0 12px;\n  cursor: pointer;\n  user-select: none;\n"]))),n.p+"static/media/Down-Arrow.fbc4fe14.svg"),kt=Se.default.div((function(){return{zIndex:100,width:"100%",outline:"0",display:"flex",flexDirection:"column"}})),St=Se.default.div((function(){return{height:"72px",zIndex:100,width:"100%",outline:"0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}}),ut.n,ut.d),It=Se.default.div((function(e){return{display:"flex",flexDirection:"column",position:"absolute",zIndex:200,top:0,left:0,width:"100vw",height:"calc(100vh)",transition:"transform 0.3s ease-in-out",backgroundColor:"#FFF",transform:e.expanded?"translateX(0)":"translateX(-100%)"}})),Dt=Se.default.div({padding:"0",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"}),Tt=Se.default.div((function(e){return Object(S.a)({fontStyle:"normal",fontWeight:600,fontSize:"16px",lineHeight:"19px",color:"#000629"},e.isFooter&&{fontWeight:500,fontSize:"14px",lineHeight:"21px",color:"#7b7f93",padding:"0 12px",cursor:"pointer",userSelect:"none"})}));Tt.defaultProps={isFooter:!1};var Ct=Se.default.div((function(){return{fontStyle:"normal",fontWeight:500,fontSize:"14px",lineHeight:"21px",paddingTop:"16px",color:"#7B7F93"}}),ut.n,ut.d),Et=Se.default.div({border:"1px dashed #DDDDE3",boxSizing:"border-box",borderWidth:"1px 0 0 0",margin:"16px 0 0"}),At=Se.default.div((function(){return{fontStyle:"normal",fontWeight:500,fontSize:"16px",lineHeight:"19px",color:"#7b7f93",marginLeft:"5px"}}),ut.n),Ft=Se.default.button((function(e){var t=e.backgroundColor,n=e.textColor;return{backgroundColor:t,display:"flex",appearance:"none",fontSize:"14px",fontWeight:500,fontFamily:"inherit",lineHeight:1.5,color:void 0===n?"white":n,height:"40px",padding:"0 16px",flexDirection:"row",alignItems:"center",justifyContent:"space-between",cursor:"pointer",border:"none"}}),ut.n,ut.j,ut.i),Mt=Se.default.div({whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),_t=Se.default.img({width:"16px",height:"16px",margin:"0 0 0 16px"});_t.defaultProps={src:wt};var Pt=Se.default.img({width:"72px",height:"24px",margin:"0"}),Bt=function(e){return Object(yt.a)(e),Object(Qe.jsxs)(vt,{children:[Object(Qe.jsx)(Ft,{onClick:function(){},backgroundColor:"#304FFE",textColor:"white",padding:"0",width:"100%",margin:"0 0 8px 0",justifyContent:"center",children:Object(Qe.jsx)(Mt,{children:"Claim Tokens"})}),Object(Qe.jsx)(Ft,{onClick:function(){},backgroundColor:"#7B7F93",textColor:"white",padding:"0",width:"100%",margin:"0",justifyContent:"center",children:Object(Qe.jsx)(Mt,{children:"Withdraw Failed Bids"})})]})},Rt=n.p+"static/media/Left-Arrow.30df3992.svg",zt=Se.default.div({fontStyle:"normal",fontWeight:500,fontSize:"14px",lineHeight:"150%",color:"#7b7f93"}),Lt=Object(Se.default)(jt)({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",textDecoration:"none !important",padding:"8px 0"}),Nt=Se.default.img({width:"16px",height:"16px",marginRight:"4px"});function Wt(){var e=Object(lt.a)(),t=Object(Oe.a)(e,1)[0];return Object(Qe.jsxs)(Lt,{to:"/sales","data-testid":"back-ref",children:[Object(Qe.jsx)(Nt,{src:Rt}),Object(Qe.jsx)(zt,{"data-testid":"back-button",children:t("buttons.backToSales")})]})}var Ht=Se.default.div((function(e){return{height:"auto",width:"100%",paddingLeft:e.noPadding?0:e.theme.space[3],paddingRight:e.noPadding?0:e.theme.space[3],paddingBottom:e.theme.space[3],marginLeft:"auto",marginRight:"auto",justifyContent:"center"}}),(function(e){return"\n    @media (min-width: ".concat(e.theme.breakpoints[0],") {\n      max-width: ").concat(e.inner?e.fluid?"90vw":"1012px":"100%",";\n      padding-left: ").concat(e.noPadding?0:e.theme.space[3]+"px",";\n      padding-right: ").concat(e.noPadding?0:e.theme.space[3]+"px",";\n      \n    }\n  ")}),(function(e){return"\n    @media only screen and (min-width: 620px) and (max-width: ".concat(e.theme.breakpoints[2],")  {\n      padding-left: ").concat(e.noPadding?0:"calc(20%)",";\n      padding-right: ").concat(e.noPadding?0:"calc(20%)",";\n    }\n  ")}),ut.j);Ht.defaultProps={fluid:!1,inner:!0,noPadding:!1};var Ut=Se.default.div((function(e){return{padding:e.theme.space[3],borderBottom:"1px solid #000","&:last-child":{borderBottom:"none"}}}),ut.n,ut.j,ut.e,ut.o,ut.b),Gt=Se.default.div((function(e){return{display:"flex",flexDirection:"column",padding:e.theme.space[0],backgroundColor:"white"}}),ut.n,ut.j,ut.e,ut.o,ut.b),Vt=n.p+"static/media/External-Link.a36e4298.svg",Kt=n.p+"static/media/Telegram.953461fc.svg",qt=n.p+"static/media/Discord.3227b407.svg",Xt=n.p+"static/media/Twitter.54431ea2.svg",Yt=n.p+"static/media/Github.0dbb61c2.svg",Qt=Se.default.div((function(){return{marginTop:"16px",width:"100%",padding:"32px 24px",outline:0,display:"flex",flexDirection:"column"}}),ut.n,ut.j,ut.b),Jt=Object(Se.default)(pt)((function(){return{padding:0,justifyContent:"flex-start",maxWidth:"578px"}}),ut.j,ut.n),Zt=Se.default.div({fontStyle:"normal",fontWeight:500,fontSize:"16px",lineHeight:"19px",color:"#000629"}),$t=Se.default.div((function(){return{fontStyle:"normal",fontWeight:400,fontSize:"14px",lineHeight:"21px",color:"#7B7F93"}}),ut.j,ut.n),en=Se.default.div((function(){return{fontStyle:"normal",fontWeight:500,fontSize:"14px",lineHeight:"21px",color:"#7B7F93",margin:"0 0 4px 0",cursor:"pointer",userSelect:"none"}}),ut.d,ut.n),tn=Se.default.img((function(){return{width:"16px",height:"16px",cursor:"pointer"}}),ut.n,ut.j),nn=function(){var e=Object(o.c)().account,t=ct(),n=t.isMobile,i=t.windowSize.width,r=e?"".concat(e.substr(0,6),"...").concat(e.substr(-4)):"",a={};return n&&(a.margin="32px 24px",a.padding="24px 0 0",a.width="calc(100% - 48px)"),Object(Qe.jsxs)(Qt,Object(S.a)(Object(S.a)({},a),{},{children:[Object(Qe.jsx)(Zt,{children:"What is Mesa?"}),Object(Qe.jsx)($t,{marginY:"16px",maxWidth:n?i-48:"578px",children:"This can be a description for the project. Diam purus diam, nam sagittis risus. Nunc consequat felis tincidunt volutpat et. Malesuada tortor, auctor quis id nisl mattis platea."}),Object(Qe.jsxs)(Jt,{flexDirection:n?"column":"row",maxWidth:n?i-48:"578px",alignItems:n?"flex-start":"center",children:[n&&Object(Qe.jsxs)(pt,{paddingRight:"40px",flexDirection:"column",children:[Object(Qe.jsx)(en,{marginBottom:"8px",children:"Socials"}),Object(Qe.jsxs)(pt,{flexDirection:"row",alignItems:"center",children:[Object(Qe.jsx)(tn,{src:qt,height:"24px",width:"24px",margin:"0 24px 0 0"}),Object(Qe.jsx)(tn,{src:Kt,height:"24px",width:"24px",margin:"0 24px 0 0"}),Object(Qe.jsx)("a",{href:"https://twitter.com/mesa_eth",children:Object(Qe.jsx)(tn,{src:Xt,height:"24px",width:"24px",margin:"0 24px 0 0"})})]})]}),Object(Qe.jsxs)(pt,{paddingRight:"40px",flexDirection:"column",marginTop:n?"16px":"0",children:[Object(Qe.jsx)(en,{children:"Website"}),Object(Qe.jsxs)(pt,{flexDirection:"row",alignItems:"center",children:[Object(Qe.jsx)(en,{color:"#000629",margin:"0 8px 0 0",children:Object(Qe.jsx)("a",{href:"https://dxdao.eth.link",children:"dxdao.eth.link"})}),Object(Qe.jsx)(tn,{src:Vt})]})]}),r.length>0&&Object(Qe.jsxs)(pt,{paddingRight:"40px",flexDirection:"column",marginTop:n?"16px":"0",children:[Object(Qe.jsx)(en,{children:"Address"}),Object(Qe.jsxs)(pt,{flexDirection:"row",alignItems:"center",children:[Object(Qe.jsx)(en,{color:"#000629",margin:"0 8px 0 0",children:r}),Object(Qe.jsx)(tn,{src:Vt})]})]}),!n&&Object(Qe.jsxs)(pt,{paddingRight:"40px",flexDirection:"column",marginTop:n?"16px":"0",children:[Object(Qe.jsx)(en,{children:"Socials"}),Object(Qe.jsxs)(pt,{flexDirection:"row",alignItems:"center",children:[Object(Qe.jsx)("a",{href:"https://discord.com/invite/4QXEJQkvHH",target:"_blank",rel:"noreferrer",children:Object(Qe.jsx)(tn,{src:qt,height:"24px",width:"24px",margin:"0 24px 0 0"})}),Object(Qe.jsx)("a",{href:"https://twitter.com/mesa_eth",target:"_blank",rel:"noreferrer",children:Object(Qe.jsx)(tn,{src:Xt,height:"24px",width:"24px",margin:"0 24px 0 0"})}),Object(Qe.jsx)("a",{href:"https://t.me/dxDAO",target:"_blank",rel:"noreferrer",children:Object(Qe.jsx)(tn,{src:Kt,height:"24px",width:"24px",margin:"0 24px 0 0"})}),Object(Qe.jsx)("a",{href:"https://github.com/cryptonative-ch/",target:"_blank",rel:"noreferrer",children:Object(Qe.jsx)(tn,{src:Yt,height:"24px",width:"24px",margin:"0 24px 0 0"})})]})]})]})]}))},rn=n.p+"static/media/Mesa.05751790.svg",an=Se.default.div({fontStyle:"normal",fontWeight:600,fontSize:"36px",lineHeight:"44px",color:"#000629",margin:"0 40px 0 16px"}),on=Se.default.div({fontStyle:"normal",fontWeight:600,fontSize:"36px",lineHeight:"44px",color:"#000629",margin:"0 16px 0 0"}),cn=Se.default.div((function(e){return{display:"flex",flexDirection:"row",alignItems:e.isMobile?"flex-start":"center",justifyContent:"flex-start",margin:"24px 0",padding:e.isMobile?"0 24px":0}})),sn=Se.default.img({width:"60px",height:"60px",borderRadius:"60px"}),ln=Se.default.img({width:"48px",height:"48px",borderRadius:"48px"}),dn=function(){var e=ct().isMobile;return e?Object(Qe.jsxs)(cn,{isMobile:e,children:[Object(Qe.jsx)(ln,{src:rn}),Object(Qe.jsx)(pt,{flexDirection:"row",flexWrap:"wrap",marginLeft:"16px",children:Object(Qe.jsx)(on,{children:"About Mesa"})})]}):Object(Qe.jsxs)(cn,{isMobile:e,children:[Object(Qe.jsx)(sn,{src:rn}),Object(Qe.jsx)(an,{children:"About Mesa"})]})},un=n(93),pn=n.n(un),bn=Se.default.p(pt,(function(e){return{overflow:e.overflow||"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontFamily:"Inter",fontSize:"title"===e.fontSize?"24px":"16px",fontStyle:"normal",fontWeight:"light"===e.fontWeight?400:500,lineHeight:"title"===e.fontSize?"29px":"19px",letterSpacing:"0",color:"grey"===e.color?"#7B7F93":"#000629",height:"title"===e.fontSize?"30px":"19px",margin:"title"===e.fontSize?"0 8px 0 0":"8px 0px",width:"title"===e.fontSize?"80%":"auto"}}),(function(e){return"\n@media (max-width: ".concat(e.theme.breakpoints[2],") {\n  font-size: ").concat("title"===e.fontSize?"16px":"14px",";\n  font-weight: ").concat("light"===e.fontWeight?400:500,";\n  line-height: ").concat("title"===e.fontSize?"19px":"17px",";\n  height: ").concat("title"===e.fontSize?"19px":"17px",";\n}\n")})),fn=function(e){return pn.a.unix(e).tz(pn.a.tz.guess()).unix()},xn=n(59);function jn(e,t){return e.tokenOut.mul(t.tokenIn).lt(t.tokenOut.mul(e.tokenIn))||e.tokenOut.mul(t.tokenIn).eq(t.tokenOut.mul(e.tokenIn))&&e.address<t.address?-1:1}function hn(e){return e.length?function(e,t){var n,i=R.a.from(0),r=Object(xn.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if((i=i.add(a.tokenIn)).mul(a.tokenOut).div(a.tokenIn).gte(t.tokenIn))return t.tokenIn.sub(i.sub(a.tokenIn).mul(a.tokenOut).div(a.tokenIn)).mul(a.tokenIn).div(a.tokenOut).gt(R.a.from(0))?a:{address:t.address,tokenOut:t.tokenIn,tokenIn:i.sub(a.tokenIn)}}}catch(o){r.e(o)}finally{r.f()}return i.gt(t.tokenOut)?{address:t.address,tokenOut:t.tokenIn,tokenIn:i}:{address:t.address,tokenOut:t.tokenIn,tokenIn:t.tokenOut}}(e.sort(jn),e[0]):{address:"0x",tokenOut:R.a.from(0),tokenIn:R.a.from(0)}}var mn=function(e){var t=e.startDate,n=e.endDate,i=Math.floor(Date.now()/1e3),r=fn(n);return fn(t)<=i&&i<r},On=function(e){var t=e.startDate;return Math.floor(Date.now()/1e3)<fn(t)},gn=function(e){var t=e.endDate;return Math.floor(Date.now()/1e3)>=fn(t)},yn=function(e){var t=Math.floor(e/86400),n=Math.floor(e%86400/3600),i=Math.floor(e%86400%3600/60),r=Math.floor(e%86400%3600)%60,a=t>0?t+"d ":"",o=n>0?n+"h ":"",c=i>0?i+"m ":"",s=r>0&&0==n&&0==t?r+"s":"";if(e<0)throw Error("seconds cannot be negative");return a+o+c+s},vn=function(e,t){if(e<0)throw new Error("unixtimestamp cannot be negative");var n=new Intl.DateTimeFormat("en-US",t?{timeZone:"".concat(t)}:void 0).resolvedOptions().timeZone,i=pn.a.unix(e).tz("undefined"!==typeof t?n:pn.a.tz.guess()).format("MMM D, H:mm"),r=pn.a.tz("undefined"!==typeof t?n:pn.a.tz.guess()).zoneAbbr();return"".concat(i," ").concat(r)},wn=function(e){var t=e.sale,n=Object(l.useState)(0),i=Object(Oe.a)(n,2),r=i[0],a=i[1];Object(l.useEffect)((function(){var e=setInterval((function(){return a((function(e){return e+1}))}),1e3);return function(){clearInterval(e)}}),[r]);var o=p()(Date.now()).unix(),c=Math.abs(o-fn(t.endDate));if(On(t))return Object(Qe.jsxs)(pt,{children:[Object(Qe.jsx)(bn,{"data-testid":"open",children:vn(t.startDate)}),Object(Qe.jsx)(bn,{color:"grey",children:"\xa0to\xa0"}),Object(Qe.jsx)(bn,{children:vn(t.endDate)})]});if(mn(t)){var s=yn(c);return Object(Qe.jsx)(pt,{children:Object(Qe.jsx)(bn,{"data-testid":"open",children:s})})}return Object(Qe.jsx)(pt,{children:Object(Qe.jsx)(bn,{"data-testid":"closed",children:vn(t.endDate)})})},kn=n.p+"static/media/Info-Icon.13ab0785.svg",Sn=n(91),In=n(252),Dn=["children","content"],Tn=Object(Se.default)(In.a)((function(){return{filter:"drop-shadow(0px 4px 12px rgba(0, 6, 41, 0.1))",fontSize:"14px !important",fontWeight:500,lineHeight:1.5,maxWidth:"30vh",textAlign:"center",padding:"12px !important"}}),(function(){return"\n  &.type-light {\n    background-color: #fff;\n    color: #7b7f93;\n    border: 1px solid #dddde3;\n    border-radius: 0;\n\n    &.show {\n      opacity: 1;\n    }\n\n    &.place-bottom::before {\n      border-bottom: 7px solid #dddde3;\n      top: -7px;\n    }\n\n    &.place-top::before {\n      border-top: 7px solid #dddde3;\n      bottom: -7px;\n    }\n\n    &.place-left::before {\n      border-left: 7px solid #dddde3;\n      right: -7px;\n    }\n\n    &.place-right::before {\n        border-right: 7px solid #dddde3;\n        left: -7px;\n      }\n  }\n"})),Cn=function(e){var t=e.children,n=e.content,i=Object(Sn.a)(e,Dn),r=Object(l.useState)(String(Math.random())),a=Object(Oe.a)(r,1)[0];return Object(Qe.jsxs)(Qe.Fragment,{children:[Object(Qe.jsx)("span",{"data-tip":a,"data-for":a,children:t}),Object(Qe.jsx)(Tn,Object(S.a)(Object(S.a)({id:a,type:"light",effect:"solid",place:"bottom"},i),{},{children:n}))]})},En=Se.default.img({position:"relative",width:"18px",height:"18px",top:"-2px"}),An=function(e){var t=e.children;return Object(Qe.jsx)(Cn,{clickable:!0,delayHide:250,delayUpdate:500,multiline:!0,content:Object(Qe.jsx)("span",{children:t}),children:Object(Qe.jsx)(En,{src:kn})})},Fn=Se.default.div((function(e){return{fontStyle:"normal",fontWeight:500,fontSize:"16px",lineHeight:"19px",color:e.color}}),ut.p),Mn=Se.default.div((function(e){return{fontStyle:"normal",fontWeight:"normal",fontSize:"24px",lineHeight:"29px",marginTop:"7px",fontFeatureSettings:"ss01 on",color:e.error?"#E15F5F":"#000629"}}),ut.p),_n=Se.default.div((function(e){return{fontStyle:"normal",fontWeight:"normal",fontSize:"16px",lineHeight:"19px",color:e.error?"#E15F5F":"#000629",marginLeft:"auto"}}),ut.p);function Pn(e){var t=e.title,n=e.description,i=e.color,r=e.textAlign,a=e.isMobile,o=e.flexAmount,c=e.saleLive,s=e.sale,d=e.tooltip,u=e.error,b=void 0!==u&&u,f=Object(l.useState)(0),x=Object(Oe.a)(f,2)[1],j=Object(l.useState)(n),h=Object(Oe.a)(j,2),m=h[0],O=h[1],g=function(){if(c&&s){x((function(e){return(e+1)%2}));var e=p()(Date.now()).unix(),t=Math.abs(e-fn(s.endDate));O(yn(t))}};return Object(l.useEffect)((function(){if(c&&s){g();var e=setInterval(g,1e3);return function(){clearInterval(e)}}O(n)}),[n]),Object(Qe.jsxs)(pt,{flexDirection:a?"row":"column",alignItems:a?"center":"unset",marginRight:a||"right"===r?"0":1!==o?"20px":"30px",marginBottom:a?"16px":"0",flex:o,children:[Object(Qe.jsxs)(Fn,{textAlign:"left"===r?"left":"right",color:i,children:[t," ",d&&Object(Qe.jsx)(An,{children:d})]}),a?Object(Qe.jsx)(_n,{textAlign:"left"===r?"left":"right",error:b,children:m}):m.length>0&&Object(Qe.jsx)(Mn,{error:b,textAlign:"left"===r?"left":"right",children:m})]})}function Bn(){var e=ct().isMobile,t=Object(st.f)(),n=Object(a.b)(),i=Object(lt.a)(),r=Object(Oe.a)(i,1)[0],o=Object(Se.useTheme)();return dt((function(){n(be(r("pagesTitles.about")))})),t.staticId,Object(Qe.jsxs)(Ht,{minHeight:"100%",inner:!1,noPadding:!0,children:[Object(Qe.jsxs)(Ht,{noPadding:!0,children:[!e&&Object(Qe.jsx)(Wt,{}),Object(Qe.jsx)(dn,{}),Object(Qe.jsxs)(pt,{flexDirection:"row",justifyContent:"space-between",children:[Object(Qe.jsx)(pt,{flexDirection:"column",flex:1,children:Object(Qe.jsx)(Gt,{border:"none",marginX:e?"8px":"0",children:Object(Qe.jsx)(nn,{})})}),Object(Qe.jsx)(pt,{flexDirection:"column",width:"377px",marginLeft:"24px",children:Object(Qe.jsxs)(Gt,{border:"none",children:[Object(Qe.jsx)(Ut,{display:"flex",borderBottom:"1px dashed #DDDDE3",padding:o.space[4],children:Object(Qe.jsx)(pt,{flexDirection:"row",alignItems:"center",flex:1,children:Object(Qe.jsx)(Pn,{title:"Side Content",description:"",color:"#000629"})})}),Object(Qe.jsx)(Ut,{display:"flex",padding:o.space[4]})]})})]})]}),e&&Object(Qe.jsx)(Bt,{})]})}Pn.defaultProps={color:"#7B7F93",textAlign:"left",isMobile:!1,flexAmount:1,saleLive:!1};var Rn=n(42),zn=n.n(Rn);function Ln(e){var t,n,i=e.sale,r=zn()("FixedPriceSale"==i.type?H(i.tokenPrice||"0",i.tokenOut.decimals):H(i.minimumBidAmount||"0",i.tokenOut.decimals)).format("0.00");return Object(Qe.jsxs)(pt,{children:[Object(Qe.jsx)(bn,{"data-testid":"openprice",children:r}),Object(Qe.jsxs)(bn,{fontWeight:"light",children:["\xa0",null===(t=i.tokenIn)||void 0===t?void 0:t.symbol,"/",null===(n=i.tokenOut)||void 0===n?void 0:n.symbol]})]})}var Nn,Wn=Se.default.div((function(e){return{padding:e.theme.space[0],backgroundColor:"white",borderRadius:"0",width:"100%"}}),ut.n,ut.j,ut.e,ut.o),Hn=Se.default.div({display:"flex",flexDirection:"column",minHeight:"100%",width:"100%",padding:"32px 24px 8px 24px",borderBottom:"1px solid #000","&:last-child":{borderBottom:"none"}},(function(e){return"\n  @media (max-width: ".concat(e.theme.breakpoints[2],") {\n    padding: 16px 16px 8px 16px\n  }\n  ")}),Wn,ut.n,ut.j,ut.e,ut.o),Un=Se.default.div((function(e){return{height:"27px",width:"presale"===e.width?"80px":"70px",borderRadius:"0px",background:"#000629",justifyContent:"center",margin:"4px 4px"}}),(function(e){return"\n@media (max-width: ".concat(e.theme.breakpoints[2],") {\n  height: 25px;\n  width: ").concat("presale"===e.width?"73px":"63px",",;\n  padding: 4px, 8px, 4px, 8px\n}\n")}),ut.j,ut.d),Gn=Se.default.h3({fontFamily:"Inter",fontSize:"16px",fontStyle:"normal",fontWeight:500,letterSpacing:"0",textAlign:"center",color:"white",justifyContent:"center",margin:"0px",padding:"2px 4px"},(function(e){return"\n@media (max-width: ".concat(e.theme.breakpoints[2],") {\n  font-size: 14px;\n}\n")})),Vn=function(e){var t=e.saleType;return"presale"==t?Object(Qe.jsx)(Un,{width:"presale",children:Object(Qe.jsx)(Gn,{children:"Pre-sale"})}):"public"==t?Object(Qe.jsx)(Un,{children:Object(Qe.jsx)(Gn,{children:"Public"})}):null},Kn=Object(Se.default)(bn)(Nn||(Nn=Object(ge.a)(["\n  color: ",";\n"])),(function(e){return e.isFailed?"red":"black"})),qn=function(e){var t,n=e.sale,i=e.closed,r=n.soldAmount<n.minimumRaise&&i;return Object(Qe.jsxs)(pt,{children:[Object(Qe.jsx)(Kn,{isFailed:r,children:zn()("FairSale"==n.type?H(n.tokensForSale,n.tokenOut.decimals):H(i?n.soldAmount:n.sellAmount,n.tokenOut.decimals)).format("0,0")}),Object(Qe.jsxs)(Kn,{isFailed:r,fontWeight:"light",children:["\xa0",null===(t=n.tokenOut)||void 0===t?void 0:t.symbol]})]})},Xn=Se.default.hr({position:"relative",width:"100%",border:"none",borderTop:"1px dashed #dddde3",margin:"0"}),Yn=function(e){var t=p()(Date.now()).unix(),n=fn(e.startDate),i=fn(e.endDate),r=Math.abs(n-i);return Math.round(100*(1-Math.abs(t-i)/r))},Qn=function(e){var t=e.sale,n=Object(l.useState)(0),i=Object(Oe.a)(n,2),r=i[0],a=i[1],o=Object(l.useState)(window.innerWidth<770),c=Object(Oe.a)(o,2),s=c[0],d=c[1],u=function(){d(window.innerWidth<770)};Object(l.useEffect)((function(){var e=setInterval((function(){return a((function(e){return e+1}))}),1e3);return window.addEventListener("resize",u),function(){window.removeEventListener("resize",u),clearInterval(e)}}),[r]);var p="#304ffe";return gn(t)?Object(Qe.jsxs)(pt,{flexDirection:"row",justifyContent:"space-between",children:[Object(Qe.jsx)(bn,{color:"grey",children:"Closed"}),Object(Qe.jsx)(pt,{children:Object(Qe.jsx)(wn,{sale:t})})]}):On(t)?Object(Qe.jsx)(Qe.Fragment,{children:s?Object(Qe.jsxs)(pt,{flexDirection:"column",justifyContent:"space-between",children:[Object(Qe.jsxs)(pt,{flexDirection:"row",justifyContent:"space-between",children:[Object(Qe.jsx)(bn,{color:"grey",children:"Starts"}),Object(Qe.jsx)(bn,{children:vn(t.startDate)})]}),Object(Qe.jsxs)(pt,{flexDirection:"row",justifyContent:"space-between",children:[Object(Qe.jsx)(bn,{color:"grey",children:"Ends"}),Object(Qe.jsx)(bn,{children:vn(t.endDate)})]})]}):Object(Qe.jsxs)(pt,{flexDirection:"row",justifyContent:"space-between",children:[Object(Qe.jsx)(bn,{color:"grey",children:"Timeframe"}),Object(Qe.jsx)(wn,{sale:t})]})}):Object(Qe.jsxs)(pt,{flexDirection:"row",justifyContent:"space-between",children:[Object(Qe.jsx)(bn,{color:"grey",children:"Time Remaining"}),Object(Qe.jsxs)(pt,{justifyContent:"center",children:[Object(Qe.jsx)(wn,{sale:t}),Object(Qe.jsxs)("svg",{height:"16",width:"16",style:{marginLeft:"8px",marginTop:"8px"},children:[Object(Qe.jsx)("circle",{r:"8",cx:"8",cy:"8",fill:p,fillOpacity:"0.1",transform:"rotate(-90) translate(-16)"}),Object(Qe.jsx)("circle",{r:"4",cx:"8",cy:"8",fill:"transparent",stroke:p,strokeOpacity:"1",strokeWidth:"8",strokeDasharray:"calc(".concat(Yn(t)," * 25 / 100) 25"),transform:"rotate(-90) translate(-16)"})]})]})]})},Jn=Se.default.img({height:"45px"},ut.n,(function(e){return"\n  @media (max-width: ".concat(e.theme.breakpoints[2],") {\n  height: 32px;\n  }\n  ")})),Zn=Object(Se.default)(pt)({flexShrink:0},"\n  @media (max-width: 320px) {\n    flex-direction: column;\n  }\n"),$n=Se.default.div((function(e){return{marginRight:e.theme.space[3]}})),ei=n.p+"static/media/no-token-image.d8504f66.svg";function ti(e){var t,n,i=e.sale,r=Object(lt.a)(),a=Object(Oe.a)(r,1)[0];return Object(Qe.jsx)(Wn,{children:Object(Qe.jsxs)(Hn,{children:[Object(Qe.jsxs)(pt,{justifyContent:"space-between",alignItems:"center",margin:"0 0 16px 0",children:[Object(Qe.jsxs)(pt,{width:"70%",alignItems:"center",children:[Object(Qe.jsx)($n,{children:Object(Qe.jsx)(Jn,{src:(null===(t=i.tokenOut)||void 0===t?void 0:t.icon)||ei,alt:null===(n=i.tokenOut)||void 0===n?void 0:n.name})}),Object(Qe.jsx)(bn,{fontSize:"title",children:i.name})]}),Object(Qe.jsx)(Zn,{children:Object(Qe.jsx)(Vn,{saleType:"public"})})]}),Object(Qe.jsx)(Xn,{}),Object(Qe.jsxs)(pt,{flexDirection:"column",justifyContent:"space-evenly",height:"75%",margin:"12px 0 0 0",children:[Object(Qe.jsxs)(pt,{flexDirection:"row",justifyContent:"space-between",children:[Object(Qe.jsx)(bn,{color:"grey",children:a("texts.salesType")}),"FixedPriceSale"==i.type?Object(Qe.jsx)(bn,{children:"Fixed Price Sale"}):Object(Qe.jsx)(bn,{children:"Fair Sale"})]}),gn(i)?Object(Qe.jsxs)(pt,{flexDirection:"row",justifyContent:"space-between",children:[Object(Qe.jsx)(bn,{color:"grey",children:a("texts.amountSold")}),Object(Qe.jsx)(qn,{closed:!0,sale:i})]}):Object(Qe.jsxs)("div",{children:[Object(Qe.jsxs)(pt,{flexDirection:"row",justifyContent:"space-between",children:[Object(Qe.jsx)(bn,{color:"grey",children:a("texts.currentPrice")}),Object(Qe.jsx)(Ln,{sale:i})]}),Object(Qe.jsxs)(pt,{flexDirection:"row",justifyContent:"space-between",children:[Object(Qe.jsx)(bn,{color:"grey",children:a("texts.amountForSale")}),Object(Qe.jsx)(qn,{sale:i})]})]}),Object(Qe.jsx)(Qn,{sale:i})]})]})})}function ni(e){var t=e.error;return t instanceof Error?Object(Qe.jsx)("div",{children:t.message}):Object(Qe.jsx)("div",{children:t})}var ii,ri,ai,oi,ci,si,li,di,ui,pi=Se.default.div({padding:"3px 3px 3px 3px",position:"relative",marginBottom:"48px",display:"flex",height:"33px",width:"240px",borderRadius:"33px",background:"#dddde3"}),bi=Se.default.div((function(e){return{cursor:e.active?"default":"pointer",height:"27px",width:"95px",borderRadius:"33px",padding:"5px 13px",display:"flex",justifyContent:"center",fontSize:"14px",fontStyle:"normal",fontFamily:"Inter",lineHeight:"17px",fontWeight:500,color:e.active?"#304ffe":"#7b7f93",background:e.active?"#ffffff":""}})),fi=function(e){var t=e.state,n=e.setStatus,i=Object(lt.a)(),r=Object(Oe.a)(i,1)[0];return Object(Qe.jsxs)(pi,{children:[Object(Qe.jsx)(bi,{"data-testid":"live",active:t==Ii.LIVE,onClick:function(){return n(Ii.LIVE)},children:r("texts.live")}),Object(Qe.jsx)(bi,{"data-testid":"upcoming",active:t==Ii.UPCOMING,onClick:function(){return n(Ii.UPCOMING)},children:r("texts.upcoming")}),Object(Qe.jsx)(bi,{"data-testid":"closed",active:t==Ii.CLOSED,onClick:function(){return n(Ii.CLOSED)},children:r("texts.closed")})]})},xi=Se.default.div((function(e){return{margin:"0",marginBottom:"10vh",paddingBottom:"10vh",display:e.theme.grid.display,gridTemplateColumns:e.theme.grid.gridTemplateColumns[0],gap:e.theme.grid.gap[0]}}),(function(e){return"\n    @media (max-width: ".concat(e.theme.breakpoints[2],") {\n      grid-template-columns: ").concat(e.theme.grid.gridTemplateColumns[1],";\n      row-gap: ").concat(e.theme.grid.gap[1],";\n    })")})),ji=n(483),hi=n(481),mi=Object(hi.a)(ii||(ii=Object(ge.a)(["\n  fragment tokenResults on Token {\n    id\n    name\n    symbol\n    decimals\n  }\n"]))),Oi=Object(hi.a)(ri||(ri=Object(ge.a)(["\n  fragment fixedPriceSaleResults on FixedPriceSale {\n    id\n    name\n    createdAt\n    updatedAt\n    deletedAt\n    status\n    startDate\n    endDate\n    soldAmount\n    sellAmount\n    minimumRaise\n    allocationMin\n    allocationMax\n    tokenPrice\n    tokenIn {\n      ...tokenResults\n    }\n    tokenOut {\n      ...tokenResults\n    }\n  }\n  ","\n"])),mi),gi=Object(hi.a)(ai||(ai=Object(ge.a)(["\n  fragment fairSaleResults on FairSale {\n    id\n    name\n    createdAt\n    updatedAt\n    deletedAt\n    status\n    startDate\n    endDate\n    tokensForSale\n    minimumBidAmount\n    minFundingThreshold\n    tokenIn {\n      ...tokenResults\n    }\n    tokenOut {\n      ...tokenResults\n    }\n  }\n  ","\n"])),mi),yi=Object(hi.a)(oi||(oi=Object(ge.a)(["\n  fragment fixedPriceSalePurchaseResults on FixedPriceSalePurchase {\n    id\n    createdAt\n    updatedAt\n    deletedAt\n    buyer\n    amount\n    status\n    sale {\n      id\n    }\n  }\n"]))),vi=Object(hi.a)(ci||(ci=Object(ge.a)(["\n  query GetAllSales {\n    fixedPriceSales {\n      ...fixedPriceSaleResults\n    }\n    fairSales {\n      ...fairSaleResults\n    }\n  }\n  ","\n  ","\n"])),Oi,gi),wi=Object(hi.a)(si||(si=Object(ge.a)(["\n  query GetSingleSale($saleId: ID!) {\n    fixedPriceSale(id: $saleId) {\n      ...fixedPriceSaleResults\n    }\n    fairSale(id: $saleId) {\n      ...fairSaleResults\n    }\n  }\n  ","\n  ","\n"])),Oi,gi),ki=(Object(hi.a)(li||(li=Object(ge.a)(["\n  query GetFixedPriceSalePurchasesBySaleId($saleId: String!) {\n    fixedPriceSalePurchases(where: { sale: $saleId }) {\n      ...fixedPriceSalePurchaseResults\n    }\n  }\n  ","\n"])),yi),Object(hi.a)(di||(di=Object(ge.a)(['\n  query GetMesaFactory {\n    mesaFactory(id: "MesaFactory") {\n      id\n      saleFee\n      saleCount\n      feeManager\n      address\n      feeTo\n      templateManager\n      templateLauncher\n      feeNumerator\n    }\n  }\n']))),["data"]);function Si(){var e=Object(ji.a)(vi),t=e.data,n=Object(Sn.a)(e,ki),i=[];return t&&(i=Object.values(t).reduce((function(e,t){var n=t.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{type:e.__typename})}));return e=e.concat(n)}),[])),Object(S.a)({sales:i},n)}var Ii,Di=Object(Se.default)(De.c)(Wn,{display:"block"}),Ti=Se.default.p({height:"44px",width:"210px",fontFamily:"Inter",fontSize:"36px",fontStyle:"normal",fontWeight:600,lineHeight:"44px",letterSpacing:"0",textAlign:"left",color:"#000629",marginBottom:"32px"});!function(e){e.LIVE="Live",e.UPCOMING="upcoming",e.CLOSED="closed"}(Ii||(Ii={}));var Ci=(ui={},Object(M.a)(ui,Ii.UPCOMING,On),Object(M.a)(ui,Ii.CLOSED,gn),Object(M.a)(ui,Ii.LIVE,mn),ui);function Ei(){var e=Object(a.b)(),t=Object(lt.a)(),n=Object(Oe.a)(t,1)[0],i=Object(a.c)((function(e){return e.page.selectedSaleStatus})),r=Object(l.useState)(),o=Object(Oe.a)(r,2),c=o[0],s=o[1],d=Si(),u=d.loading,p=d.sales,b=d.error;dt((function(){e(be(n("pagesTitles.home")))}));return Object(l.useEffect)((function(){if(p){var e=Object(_.a)(p).filter(Ci[i]);s((t=e,i===Ii.UPCOMING?t.sort((function(e,t){return t.startDate-e.startDate})):i===Ii.LIVE?t.sort((function(e,t){return e.endDate-t.endDate})):t.sort((function(e,t){return t.endDate-e.endDate}))))}var t}),[i,u]),Object(Qe.jsx)(Ht,{minHeight:"100%",inner:!1,noPadding:!0,children:Object(Qe.jsxs)(Ht,{children:[Object(Qe.jsx)(Ti,{children:"Token Sales"}),Object(Qe.jsx)(fi,{state:i,setStatus:function(t){var n;e((n=t,{type:se.PAGE_SET_SELECTED_SALE_STATUS,payload:n}))}}),Object(Qe.jsx)(xi,{children:b?Object(Qe.jsx)(bt,{children:Object(Qe.jsx)(ni,{error:b})}):u?n("texts.loading"):null===c||void 0===c?void 0:c.map((function(e){return Object(Qe.jsx)(Di,{to:"/sales/".concat(e.id),children:Object(Qe.jsx)(ti,{sale:e})},e.id)}))})]})})}var Ai=["data"];function Fi(e){var t=Object(ji.a)(wi,{variables:{saleId:e}}),n=t.data,i=Object(Sn.a)(t,Ai),r=void 0;return n&&(r=Object.values(n).find((function(e){return null!=e})),r=Object(S.a)(Object(S.a)({},r),{},{type:r.__typename})),Object(S.a)({sale:r},i)}function Mi(e){return Fi(e)}var _i,Pi,Bi,Ri,zi,Li,Ni,Wi,Hi,Ui=n(88),Gi=n(39),Vi=Se.default.div((function(e){return{position:"relative",display:"flex",marginBottom:e.theme.space[3]}})),Ki=Se.default.form((function(e){return{display:"flex",flexDirection:"column",marginBottom:e.theme.space[2]}})),qi=n.p+"static/media/Close.a67af5ea.svg",Xi=Se.default.div(_i||(_i=Object(ge.a)(["\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 700;\n  width: 40%;\n  min-width: 400px;\n  outline: 0;\n"]))),Yi=Se.default.div(Pi||(Pi=Object(ge.a)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: rgba(0, 6, 41, 0.5);\n  z-index: 500;\n"]))),Qi=Se.default.div(Bi||(Bi=Object(ge.a)(["\n  z-index: 100;\n  background: white;\n  position: relative;\n  margin: auto;\n"]))),Ji=Se.default.div(Ri||(Ri=Object(ge.a)(["\n  display: flex;\n  padding: 16px 24px;\n  border-bottom: 1px solid #dddde3;\n"]))),Zi=Se.default.div(zi||(zi=Object(ge.a)(["\n  color: #000629;\n  flex: 1;\n  font-size: 1.1rem;\n"]))),$i=Se.default.a(Li||(Li=Object(ge.a)(["\n  :hover {\n    cursor: pointer;\n  }\n"]))),er=Se.default.div(Ni||(Ni=Object(ge.a)(["\n  color: #7b7f93;\n  padding: 16px 24px;\n  max-height: 30rem;\n  overflow-x: hidden;\n  overflow-y: auto;\n"]))),tr=Se.default.div(Wi||(Wi=Object(ge.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 0 16px 16px 16px;\n"]))),nr=Object(Se.default)(ft)(Hi||(Hi=Object(ge.a)(["\n  margin: 8px;\n  flex: 1;\n"]))),ir=function(e){var t=e.isShown,n=e.hide,i=e.modalContent,r=e.headerText,a=e.confirmText,o=void 0===a?"Confirm":a,c=e.cancelText,d=void 0===c?"Cancel":c,u=e.onConfirm,p=e.onCancel,b=e.hideHeader,f=Object(Qe.jsxs)(l.Fragment,{children:[Object(Qe.jsx)(Yi,{onClick:n}),Object(Qe.jsx)(Xi,{children:Object(Qe.jsxs)(Qi,{children:[!b&&Object(Qe.jsxs)(Ji,{children:[Object(Qe.jsx)(Zi,{children:r}),Object(Qe.jsx)($i,{onClick:n,children:Object(Qe.jsx)("img",{src:qi,alt:"close icon"})})]}),Object(Qe.jsx)(er,{children:i}),Object(Qe.jsxs)(tr,{children:[u&&Object(Qe.jsx)(nr,{onClick:u,children:o}),p&&Object(Qe.jsx)(nr,{variant:"secondary",onClick:function(){p(),n()},children:d})]})]})})]});return t?s.a.createPortal(f,document.body):null},rr=n(83),ar=n(99),or=function(){function e(){Object(Fe.a)(this,e)}return Object(Ae.a)(e,null,[{key:"connect",value:function(e,t){return new ar.b(e,cr,t)}}]),e}(),cr=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];function sr(e,t){return t?function(e,t){return e.getSigner(t).connectUnchecked()}(e,t):e}function lr(e){var t=Object(o.c)(),n=t.library,i=t.account;return Object(l.useMemo)((function(){return e&&n?or.connect(e,sr(n,i)):null}),[e,i,n])}n(138);var dr=11699666;setInterval((function(){return dr++}),15e3);var ur,pr=function(){var e=Object(T.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dr);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function br(e,t,n){var i=Object(l.useState)(R.a.from(0)),r=Object(Oe.a)(i,2),a=r[0],o=r[1],c=lr(e),s=function(){var e=Object(l.useState)(0),t=Object(Oe.a)(e,2),n=t[0],i=t[1];return Object(l.useEffect)((function(){var e=setInterval(Object(T.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pr();case 2:t=e.sent,n!==t&&i(t);case 4:case"end":return e.stop()}}),e)}))),3e3);return function(){return clearInterval(e)}}),[]),n}();return Object(l.useEffect)((function(){c&&c.allowance(t,n).then(o).catch((function(){return a}))}),[c,e,t,n,s]),a}!function(e){e.UNKNOWN="UNKNOWN",e.NOT_APPROVED="NOT_APPROVED",e.PENDING="PENDING",e.APPROVED="APPROVED"}(ur||(ur={}));var fr=Object(l.createContext)(null);function xr(){return Object(l.useContext)(fr)}var jr=function(){function e(){Object(Fe.a)(this,e)}return Object(Ae.a)(e,null,[{key:"connect",value:function(e,t){return new ar.b(e,hr,t)}}]),e}(),hr=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"ownerId",type:"uint64"},{indexed:!1,internalType:"uint96",name:"orderTokenOut",type:"uint96"},{indexed:!1,internalType:"uint96",name:"orderTokenIn",type:"uint96"}],name:"CancellationOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"ownerId",type:"uint64"},{indexed:!1,internalType:"uint96",name:"orderTokenOut",type:"uint96"},{indexed:!1,internalType:"uint96",name:"orderTokenIn",type:"uint96"}],name:"ClaimedFromOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20",name:"_tokenIn",type:"address"},{indexed:!0,internalType:"contract IERC20",name:"_tokenOut",type:"address"},{indexed:!1,internalType:"uint256",name:"orderCancellationEndDate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endDate",type:"uint256"},{indexed:!1,internalType:"uint96",name:"_totalTokenOutAmount",type:"uint96"},{indexed:!1,internalType:"uint96",name:"_minBidAmountToReceive",type:"uint96"},{indexed:!1,internalType:"uint256",name:"minimumBiddingAmountPerOrder",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minSellThreshold",type:"uint256"}],name:"InitializedSale",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"ownerId",type:"uint64"},{indexed:!1,internalType:"uint96",name:"orderTokenOut",type:"uint96"},{indexed:!1,internalType:"uint96",name:"orderTokenIn",type:"uint96"}],name:"NewOrder",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"ownerId",type:"uint64"},{indexed:!0,internalType:"address",name:"userAddress",type:"address"}],name:"NewUser",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint96",name:"saleedTokens",type:"uint96"},{indexed:!1,internalType:"uint96",name:"soldBiddingTokens",type:"uint96"},{indexed:!1,internalType:"bytes32",name:"clearingOrder",type:"bytes32"}],name:"SaleCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint64",name:"ownerId",type:"uint64"}],name:"UserRegistration",type:"event"},{inputs:[],name:"FEE_DENOMINATOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"saleStartedDate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32[]",name:"_orders",type:"bytes32[]"}],name:"cancelOrders",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"_orders",type:"bytes32[]"}],name:"claimFromParticipantOrder",outputs:[{internalType:"uint256",name:"sumTokenOutAmount",type:"uint256"},{internalType:"uint256",name:"sumTokenInAmount",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"clearingPriceOrder",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_order",type:"bytes32"}],name:"containsOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"endDate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeNumerator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeReceiverUserId",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"getSecondsRemainingInBatch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserId",outputs:[{internalType:"uint64",name:"ownerId",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"initialSaleOrder",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"interimOrder",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"interimSumBidAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"isAtomicClosureAllowed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"minSellThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minSellThresholdNotReached",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"minimumBiddingAmountPerOrder",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"numUsers",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"orderCancellationEndDate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint96[]",name:"_ordersTokenOut",type:"uint96[]"},{internalType:"uint96[]",name:"_ordersTokenIn",type:"uint96[]"},{internalType:"bytes32[]",name:"_prevOrders",type:"bytes32[]"}],name:"placeOrders",outputs:[{internalType:"uint64",name:"ownerId",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"iterationSteps",type:"uint256"}],name:"precalculateSellAmountSum",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"registerUser",outputs:[{internalType:"uint64",name:"ownerId",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"settleSale",outputs:[{internalType:"bytes32",name:"clearingOrder",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint96[]",name:"_ordersTokenOut",type:"uint96[]"},{internalType:"uint96[]",name:"_ordersTokenIn",type:"uint96[]"},{internalType:"bytes32[]",name:"_prevOrder",type:"bytes32[]"}],name:"settleSaleAtomically",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"templateName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenIn",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenOut",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"volumeClearingPriceOrder",outputs:[{internalType:"uint96",name:"",type:"uint96"}],stateMutability:"view",type:"function"}],mr=function(){function e(){Object(Fe.a)(this,e)}return Object(Ae.a)(e,null,[{key:"connect",value:function(e,t){return new ar.b(e,Or,t)}}]),e}(),Or=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"}],name:"NewPurchase",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"}],name:"NewTokenClaim",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"}],name:"NewTokenRelease",type:"event"},{anonymous:!1,inputs:[],name:"SaleClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IERC20",name:"tokenIn",type:"address"},{indexed:!1,internalType:"contract IERC20",name:"tokenOut",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokensForSale",type:"uint256"},{indexed:!1,internalType:"uint256",name:"startDate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endDate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"allocationMin",type:"uint256"},{indexed:!1,internalType:"uint256",name:"allocationMax",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minimumRaise",type:"uint256"}],name:"SaleInitalized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"amount",type:"uint256"}],name:"distributeAllTokensLeft",type:"event"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"ERC20Withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"ETHWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"allocationMax",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"allocationMin",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"buyTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"claimTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"closeSale",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"distributeAllTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"endDate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isClosed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"minimumRaise",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"orderOwners",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"ordersCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"releaseTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"secondsRemainingInSale",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"startDate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"templateName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenIn",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenOut",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokenPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokensForSale",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tokensPurchased",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tokensRemaining",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"soldAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdrawFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"withdrawFundsWithParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawUnsoldFunds",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];var gr=function(e){return'\n      {\n        fixedPriceSales (where: {id:"'.concat(e,'"} ) {\n          id\n    purchases {\n      id\n      buyer\n      amount\n      status\n      sale {\n        id\n      }\n    }\n   }\n\n  fairSales (where: {id: "').concat(e,'"}) {\n    id\n    bids {\n      id\n      tokenInAmount\n      tokenOutAmount\n      sale {\n        id\n      }\n    }\n   }\n }\n')},yr=function(e,t){return{buyer:t,amount:e.reduce((function(e,t){return R.a.from(e).add(t.amount)}),R.a.from(0)),status:e.length>0?e[0].status:void 0}};function vr(e,t){var n=Object(a.b)(),i=Object(o.c)(),r=i.account,c=i.library,s=i.chainId,d=xr(),u=Object(a.c)((function(e){return e.bids})),b=u.isLoading,f=u.error,x=u.bidsBySaleId[e],j=(x=void 0===x?{updatedAt:0}:x).updatedAt,h=function(e,t){var n=Object(a.b)(),i=Object(o.c)(),r=i.account,c=i.library,s=i.chainId,d=Object(lt.a)(),u=Object(Oe.a)(d,1)[0],p=Object(a.c)((function(e){return e.bids})),b=p.isLoading,f=p.error,x=p.bidsBySaleId[e],j=(x=void 0===x?{bids:[]}:x).bids;return Object(l.useEffect)((function(){r&&c&&s&&("FairSale"==t&&jr.connect(e,c).on("NewOrder",function(){var t=Object(T.a)(D.a.mark((function t(i,r,a,o){var s;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=String,t.next=3,c.getBlock(o.blockNumber);case 3:return t.next=5,t.sent.timestamp;case 5:return t.t1=t.sent,t.t2=(0,t.t0)(t.t1),t.t3=i,t.t4=a,t.t5=r,t.t6={id:e},t.next=13,c.getBlock(o.blockNumber);case 13:return t.next=15,t.sent.timestamp;case 15:return t.t7=t.sent,t.next=18,c.getBlock(o.blockNumber);case 18:return t.next=20,t.sent.timestamp;case 20:t.t8=t.sent,s={id:t.t2,address:t.t3,tokenIn:t.t4,tokenOut:t.t5,baseSale:t.t6,createdAt:t.t7,updatedAt:t.t8,deletedAt:null},n(Y(!0));try{n(Q(s))}catch(f){console.error(f),n(J(f))}case 24:case"end":return t.stop()}}),t)})));return function(e,n,i,r){return t.apply(this,arguments)}}()),mr.connect(e,c).on("NewPurchase",function(){var t=Object(T.a)(D.a.mark((function t(i,r,a){var o;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=String,t.next=3,c.getBlock(a.blockNumber);case 3:return t.next=5,t.sent.timestamp;case 5:return t.t1=t.sent,t.t2=(0,t.t0)(t.t1),t.t3=i,t.t4=r,t.t5={id:e},t.next=12,c.getBlock(a.blockNumber);case 12:return t.next=14,t.sent.timestamp;case 14:return t.t6=t.sent,t.next=17,c.getBlock(a.blockNumber);case 17:return t.next=19,t.sent.timestamp;case 19:t.t7=t.sent,o={id:t.t2,buyer:t.t3,amount:t.t4,baseSale:t.t5,createdAt:t.t6,updatedAt:t.t7,deletedAt:null},n(Y(!0));try{n(Q(o))}catch(f){console.error(f),Ie.b.error(u("error.updatePurchase")),n(J(f))}case 23:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}()))}),[n,r,c,s]),{bids:j,loading:b,error:f}}(e,t).bids,m=h.filter((function(e){return e.buyer.toLowerCase()===(null===r||void 0===r?void 0:r.toLowerCase())}));return Object(l.useEffect)((function(){var t=p.a.utc().unix();Math.abs(j-t)<=30&&r||(n(K(!0)),d.subgraph.query(gr(e)).then((function(e){var t=e.data,i=t.fixedPriceSales,r=t.fairSales,a=i?i[0].purchases:r[0].bids,o=a.reduce((function(e,t){return Object(M.a)({},t.sale.id,{lastUpdated:Date.now(),bids:a})}),{});n(q(o))})).catch((function(e){n(X(e))})))}),[r,n,c,s]),{totalBids:h,bids:m,loading:b,error:f}}var wr,kr,Sr,Ir=Se.default.div((function(){return{zIndex:100,width:"100%",outline:"0",display:"flex",flexDirection:"column",marginBottom:"16px"}})),Dr=Se.default.div((function(){return{width:"100%",outline:"0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}})),Tr=Se.default.div((function(e){return{width:"".concat(e.size+4,"%"),outline:"0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",margin:"10px auto"}})),Cr=Se.default.div((function(e){return{minWidth:"20px",minHeight:"20px",borderRadius:"50%",background:e.active?"#4B9E98":"#DDDDE3",color:"white",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"8px",fontSize:"12px"}})),Er=Se.default.div((function(e){return{width:"100%",background:e.active?"linear-gradient(90deg, #4b9e98 60%, #dddde3 100%);":e.complete?"#4b9e98":"#DDDDE3",height:"2px"}})),Ar=Object(Se.default)(ft)((function(e){return{width:e.buttonSize,display:"flex",alignItems:"center",justifyContent:"space-around",flexDirection:"column",height:"60px"}})),Fr=Object(Se.keyframes)(wr||(wr=Object(ge.a)(["\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform: rotate(360deg);\n    }\n"]))),Mr=Se.default.div((function(e){return{border:"0.2em solid ".concat(e.color?e.color:"#304FFE"),borderTop:"0.2em solid rgba(48, 79, 254, 0.1)",borderRadius:"50%",width:e.size?e.size:"2.28571429rem",height:e.size?e.size:"2.28571429rem"}}),Object(Se.css)(kr||(kr=Object(ge.a)(["\n    animation: "," 2s linear infinite;\n  "])),Fr)),_r=function(e){var t=e.buttons,n=e.active,i=e.loading,r=void 0!==i&&i,a=e.disabled,o=void 0!==a&&a,c=Object(l.useState)([]),s=Object(Oe.a)(c,2),d=s[0],u=s[1],p=Object(l.useState)([]),b=Object(Oe.a)(p,2),f=b[0],x=b[1],j=t.length,h=(100-2*j)/j;return Object(l.useEffect)((function(){!function(){var e=[],i=[],a=!0;t.forEach((function(t,c){t.id==n&&(a=!1),e.push(Object(Qe.jsxs)(Ar,{buttonSize:"".concat(h,"%"),onClick:t.onClick,disabled:!(t.id==n)||o,type:t.typeSubmit?"submit":"button",children:[t.title,r&&t.id==n&&Object(Qe.jsx)(Mr,{size:"10px",color:"white"})]})),j-1>c?(i.push(Object(Qe.jsx)(Cr,{active:t.id==n||a,children:c+1})),i.push(Object(Qe.jsx)(Er,{active:t.id==n,complete:a}))):i.push(Object(Qe.jsx)(Cr,{active:t.id==n,children:j}))})),u(e),x(i)}()}),[t,n]),Object(Qe.jsxs)(Ir,{children:[Object(Qe.jsx)(Dr,{children:d}),Object(Qe.jsx)(Tr,{size:100-h,children:f})]})},Pr=Se.default.div({fontStyle:"normal",fontWeight:500,fontSize:"14px",lineHeight:"48px",marginRight:"0px",width:"80px",color:"#000629"}),Br=Se.default.div({height:"48px",width:"100%",background:"#F2F2F2",border:"none",display:"flex"}),Rr=Se.default.div({position:"absolute",flex:1,background:"#F2F2F2",border:"none",color:"#7B7F93",fontSize:"14px",lineHeight:"48px",padding:"0 16px",userSelect:"none",right:0,zIndex:101}),zr=Se.default.a({border:"1px solid #DDDDE3",padding:"0 4px",fontStyle:"normal",fontSize:"14px",lineHeight:"21px",textAlign:"center",color:"#7B7F93",marginRight:"16px",cursor:"pointer",":hover":{borderColor:"#304FFE",color:"#304FFE !important"}}),Lr=Se.default.input({flex:1,height:"unset",background:"#F2F2F2",border:"none",color:"#7B7F93",padding:"0 16px",fontSize:"14px",lineHeight:"21px",zIndex:100,":focus":{background:"#F2F2F2",color:"#7B7F93"}}),Nr=Se.default.div({display:"flex",justifyContent:"center",alignSelf:"center",margin:"10px auto"}),Wr=Object(Se.default)(Nr)({color:"#4B9E98"}),Hr=Object(Se.default)(Nr)({color:"#E15F5F"}),Ur=Object(Se.default)(Ki)(Sr||(Sr=Object(ge.a)(["\n  width: 100%;\n"])));window.utils=Ui.utils;var Gr=function(e){var t=e.saleId,n=Object(lt.a)(),i=Object(Oe.a)(n,1)[0],r=Object(l.useState)(!1),a=Object(Oe.a)(r,2),c=a[0],s=a[1],d=Object(o.c)(),u=d.account,p=d.library,b=Mi(t),f=b.loading,x=b.sale,j=b.error,h=function(e){var t=e.owner,n=e.tokenAddress,i=Object(lt.a)(),r=Object(Oe.a)(i,1)[0],a=Object(l.useState)(R.a.from(0)),o=Object(Oe.a)(a,2),c=o[0],s=o[1],d=lr(n);return Object(l.useEffect)((function(){d&&t&&d.balanceOf(t).then(s).catch((function(e){console.error("Could not fetch token balance for ".concat(t," at ").concat(n)),console.error(e),Ie.b.error(r("error.fetchBalance"))}))}),[t,n]),c}({tokenAddress:null===x||void 0===x?void 0:x.tokenIn.id,owner:null!==u&&void 0!==u?u:void 0}),m=ot(),O=m.isShown,g=m.toggle,y=vr(t,"FixedPriceSale").totalBids,v=function(e){var t=e.amountToApprove,n=void 0===t?rr.b:t,i=e.tokenAddress,r=e.spender,a=Object(o.c)(),c=a.account,s=a.library,d=Object(lt.a)(),u=Object(Oe.a)(d,1)[0],p=Object(l.useState)(!1),b=Object(Oe.a)(p,2),f=b[0],x=b[1],j=br(i,c||"",r),h=lr(i),m=Object(l.useMemo)((function(){return n&&r&&j?j.gt(0)?(f&&(x(!1),Ie.b.success(u("success.approve"),{toastId:"approve"})),ur.APPROVED):f?ur.PENDING:(j.lt(n),ur.NOT_APPROVED):ur.UNKNOWN}),[n,j,r]),O=Object(l.useCallback)(Object(T.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m===ur.NOT_APPROVED){e.next=3;break}return console.error("approve was called unnecessarily"),e.abrupt("return");case 3:if(i){e.next=6;break}return console.error("no token"),e.abrupt("return");case 6:if(s&&s.getSigner()){e.next=9;break}return console.error("no signer"),e.abrupt("return");case 9:if(h){e.next=12;break}return console.error("tokenContract is null"),e.abrupt("return");case 12:if(n){e.next=15;break}return console.error("missing amount to approve"),e.abrupt("return");case 15:if(r){e.next=18;break}return console.error("no spender"),e.abrupt("return");case 18:return x(!0),e.abrupt("return",h.approve(r,n).then((function(){})).catch((function(e){throw console.debug("Failed to approve token",e),x(!1),Ie.b.error(u("errors.approve")),e})));case 20:case"end":return e.stop()}}),e)}))),[m,i,n,r,h]);return[m,O]}({spender:null===x||void 0===x?void 0:x.id,tokenAddress:null===x||void 0===x?void 0:x.tokenIn.id}),w=Object(Oe.a)(v,2),k=w[0],S=w[1],I=Object(l.useState)(),C=Object(Oe.a)(I,2),E=C[0],A=C[1],F=Object(l.useState)(),M=Object(Oe.a)(F,2),_=M[0],P=M[1],B=Object(l.useState)(0),z=Object(Oe.a)(B,2),L=z[0],N=z[1],W=function(e){var t=void 0,n=parseFloat(Ui.utils.formatUnits(h)),i=parseFloat(Ui.utils.formatUnits(R.a.from(null===x||void 0===x?void 0:x.allocationMin))),r=parseFloat(Ui.utils.formatUnits(R.a.from(null===x||void 0===x?void 0:x.allocationMax))),a=parseFloat(Ui.utils.formatUnits(R.a.from(null===x||void 0===x?void 0:x.tokenPrice))),o=U(e/a,8);i>o&&(t=new Error("Minimum is ".concat(U(i*a,8)," ").concat(null===x||void 0===x?void 0:x.tokenIn.symbol," / ").concat(Ui.utils.formatUnits(null===x||void 0===x?void 0:x.allocationMin)," ").concat(null===x||void 0===x?void 0:x.tokenOut.symbol))),r<o?t=new Error("Maximum is ".concat(U(r*a,8)," ").concat(null===x||void 0===x?void 0:x.tokenIn.symbol," / ").concat(Ui.utils.formatUnits(null===x||void 0===x?void 0:x.allocationMax)," ").concat(null===x||void 0===x?void 0:x.tokenOut.symbol)):n<e&&(t=new Error("Insufficient funds to process purchase")),P(e),N(o),A(t)},G=Object(l.useCallback)((function(){if(!x)return console.error("no sale");if(!u||!p)return console.error("no connected signer");if(!L)return console.error("token amount == null");var e=mr.connect(x.id,sr(p,u));s(!0),e.buyTokens(Ui.utils.parseEther(L.toString())).then((function(e){return e.wait(1)})).then((function(){Ie.b.success(i("success.purchase"))})).catch((function(e){console.error(e),Ie.b.error(i("errors.purchase"))})).then((function(){s(!1)}))}),[u,p,x,L,i]),V=Object(l.useCallback)(function(){var e=Object(T.a)(D.a.mark((function e(t){var n,i,r,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),x&&_&&k===ur.APPROVED){e.next=3;break}return e.abrupt("return",null);case 3:if(!(x.minimumRaise>R.a.from(0))){e.next=12;break}if(n=H(x.sellAmount,x.tokenOut.decimals),i=100*H(x.minimumRaise)/n,r=yr(y,u).amount,a=Number(Gi.ethers.utils.formatUnits(r,x.tokenOut.decimals).slice(0,5)),!(a/n*100<i)){e.next=12;break}return g(),e.abrupt("return");case 12:G();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[g,x,y,yr,G,_]),K=Object(Qe.jsxs)("div",{children:[Object(Qe.jsx)("p",{children:i("texts.saleUnderSoftCap")}),Object(Qe.jsx)("p",{children:i("texts.softCapReachedResult",{tokenQuantity:"".concat(L),tokenOutSymbol:"".concat(null===x||void 0===x?void 0:x.tokenOut.symbol)})}),Object(Qe.jsx)("p",{children:i("texts.softCapNotReachedResult",{purchaseValue:"".concat(_),tokenInSymbol:"".concat(null===x||void 0===x?void 0:x.tokenIn.symbol)})})]});return u?f?Object(Qe.jsx)(bt,{children:"Loading"}):j?Object(Qe.jsx)(bt,{children:Object(Qe.jsx)(ni,{error:j})}):x?Object(Qe.jsxs)(Ur,{id:"placePurchaseForm",noValidate:!0,onSubmit:V,children:[Object(Qe.jsxs)(Vi,{children:[Object(Qe.jsx)(Pr,{children:"Amount"}),Object(Qe.jsx)(pt,{flexDirection:"column",flex:1,children:Object(Qe.jsxs)(Br,{children:[Object(Qe.jsxs)(Rr,{"data-testid":"amount-value",children:[Object(Qe.jsx)(zr,{onClick:function(){var e=parseFloat(Ui.utils.formatUnits(h)),t=parseFloat(Ui.utils.formatUnits(R.a.from(null===x||void 0===x?void 0:x.allocationMax))),n=e<t?e:t;n<parseFloat(Ui.utils.formatUnits(R.a.from(null===x||void 0===x?void 0:x.allocationMin)))||W(U(n,8))},children:"Max"}),x.tokenIn.symbol]}),Object(Qe.jsx)(Lr,{"aria-label":"purchaseValue",id:"purchaseValue",type:"number",placeholder:"0.0",value:_,onChange:function(e){var t=e.target.value;if(!t)return P(void 0);W(parseFloat(t))}})]})})]}),Object(Qe.jsx)(Vi,{children:E?Object(Qe.jsx)(Hr,{children:E.message}):Object(Qe.jsx)(Wr,{children:"You get ".concat(L," ").concat(x.tokenOut.symbol)})}),Object(Qe.jsx)(_r,{buttons:[{title:"".concat(k==ur.APPROVED?"Approved":"Approve ".concat(x.tokenIn.symbol)," "),id:"approve",onClick:S},{title:"Purchase ".concat(x.tokenOut.symbol),id:"purchase",typeSubmit:!0,onClick:function(){}}],active:k==ur.APPROVED?"purchase":"approve",disabled:!!E,loading:c||k==ur.PENDING}),Object(Qe.jsx)(ir,{isShown:O,hide:g,modalContent:K,headerText:i("texts.confirmation"),onConfirm:function(){g(),G()},confirmText:i("texts.continuePurchase")})]}):Object(Qe.jsx)(bt,{children:Object(Qe.jsx)(ni,{error:"Could not fetch sale"})}):Object(Qe.jsx)(bt,{children:i("texts.connectWallet")})},Vr=Se.default.button((function(){return{appearance:"none",textAlign:"center",display:"inline-block",verticalAlign:"middle",userSelect:"none",backgroundColor:"transparent",fontSize:"1rem",fontWeight:400,fontFamily:"inherit",lineHeight:1.5,color:"black",border:"none",outline:"none",":disabled":{opacity:1},":hover":{textDecoration:"none"},":focus":{outline:"none"},textDecoration:"none"}}),ut.f,ut.h,ut.g,ut.n,ut.j,ut.d,ut.k,Object(ut.q)({variants:{primary:{bg:"white"},link:{bg:"transparent"}}}),ut.a),Kr=n.p+"static/media/Logo.2a47e936.svg",qr=n.p+"static/media/Up-Arrow.87bfda74.svg",Xr=Se.default.div({fontStyle:"normal",fontWeight:500,fontSize:"14px",lineHeight:"17px",color:"#000629"}),Yr=Se.default.div((function(){return{fontStyle:"normal",fontWeight:500,fontSize:"14px",lineHeight:"17px",color:"#7B7F93"}}),ut.n),Qr=Se.default.div({fontSize:"16px",lineHeight:"19px",color:"#000629",fontWeight:500}),Jr=Se.default.div({fontSize:"16px",lineHeight:"19px",color:"#304FFE",fontWeight:400,textAlign:"right",flex:1,display:"flex",justifyContent:"flex-end"}),Zr=Se.default.div({color:"#7B7F93",margin:"0 5px"}),$r=Se.default.div({color:"#000629",marginRight:"5px"}),ea=Se.default.div({height:"8px",borderRadius:"8px",backgroundColor:"#DDDDE3",display:"flex",margin:"16px 0 8px 0",alignItems:"center",position:"relative"}),ta=Se.default.div((function(e){var t;return{marginLeft:(null===(t=e.marginLeft)||void 0===t?void 0:t.toString())+"%",width:"6px",height:"6px",borderRadius:"6px",backgroundColor:"white",position:"absolute"}})),na=Se.default.div((function(e){return{width:"".concat(e.width,"%"),height:"8px",borderRadius:"8px",backgroundColor:"#304FFE"}})),ia=Se.default.img({width:"60px",height:"18px",marginLeft:"4px"}),ra=Se.default.img({width:"16px",height:"16px",marginLeft:"4px"});function aa(e){var t=e.status,n=e.showGraph,i=e.toggleGraph,r=e.isFixed,a=e.sale,c=Object(lt.a)(),s=Object(Oe.a)(c,1)[0],l=Object(o.c)().account,d=ct().isMobile,u=vr(a.id,a.type).totalBids;if(r&&a.minimumRaise>R.a.from(0)||"closed"!=t){var p=H(a.sellAmount,a.tokenOut.decimals),b=100*H(a.minimumRaise)/p,f=yr(u,l).amount,x=Number(Gi.ethers.utils.formatUnits(f,a.tokenOut.decimals).slice(0,5)),j=x/p*100;return Object(Qe.jsxs)(pt,{flexDirection:"column",flex:1,children:[Object(Qe.jsxs)(pt,{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",flex:1,children:[Object(Qe.jsx)(Qr,{children:"closed"===t?"Tokens Sold":"Sale Progress"}),Object(Qe.jsxs)(Jr,{children:[zn()(x).format("0.[00]"),Object(Qe.jsx)(Zr,{children:"(".concat(zn()(j).format("0.[00]"),"%)")}),Object(Qe.jsxs)($r,{children:["/ ",zn()(p).format("0")," ",a.tokenOut.symbol]}),Object(Qe.jsx)(An,{children:s("texts.supplyDemandInfo")})]})]}),Object(Qe.jsxs)(ea,{children:[Object(Qe.jsx)(na,{width:j}),b>0?Object(Qe.jsx)(ta,{marginLeft:b}):void 0]}),b>0?Object(Qe.jsxs)(Yr,{ml:"calc( ".concat((d&&b>80?.55:.85)*b,"%)"),children:["".concat(zn()(b).format("0"),"% Soft Cap "),Object(Qe.jsx)(An,{children:s("texts.minThresholdInfo")})]}):void 0]})}return d&&"closed"===t?Object(Qe.jsxs)(pt,{flexDirection:"column",justifyContent:"space-between",alignItems:"center",flex:1,children:[Object(Qe.jsxs)(pt,{flexDirection:"row",alignItems:"center",justifyContent:d&&"closed"===t?"center":"flex-start",flex:1,children:[Object(Qe.jsx)(Xr,{children:"You can get ERT on"}),Object(Qe.jsx)(ia,{"data-testid":"logo-img",src:Kr})]}),Object(Qe.jsx)(Vr,{disabled:!1,type:"button",height:"48px",fontWeight:"500",padding:"0 50px",fontSize:"14px",lineHeight:"21px",background:"#304FFE",color:"#fff",marginTop:"16px",width:"calc(100%)",children:"Go to Swapr"})]}):Object(Qe.jsxs)(pt,{flexDirection:"row",justifyContent:"space-between",alignItems:"center",flex:1,children:[Object(Qe.jsxs)(pt,{flexDirection:"row",alignItems:"center",justifyContent:d&&"closed"===t?"center":"flex-start",flex:1,children:[Object(Qe.jsx)(Xr,{children:"closed"===t?"Missed out on the sale? You can get ERT on":"How is the Current Price (CP) calculated?"}),"closed"===t&&Object(Qe.jsx)(ia,{"data-testid":"logo-img",src:Kr})]}),"closed"===t?Object(Qe.jsx)(Vr,{disabled:!1,type:"button",height:"48px",fontWeight:"500",padding:"0 50px",fontSize:"14px",lineHeight:"21px",background:"#304FFE",color:"#fff",children:"Go to Swapr"}):Object(Qe.jsxs)(pt,{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",style:{cursor:"pointer"},onClick:i,children:[!d&&Object(Qe.jsx)(Yr,{children:"View Live Graph"}),"active"===t&&Object(Qe.jsx)(ra,{"data-testid":"graph-img",src:n?qr:wt})]})]})}aa.defaultProps={status:"active",showGraph:!1,isFixed:!1,toggleGraph:function(){}};var oa=n(253),ca=n.p+"static/media/Warning-Icon.a19bcae2.svg",sa=n.p+"static/media/Check-Icon.b937dbe4.svg",la=Se.default.div((function(e){return{fontStyle:"normal",fontWeight:500,fontSize:"12px",lineHeight:"140%",color:e.color||"#7B7F93",marginLeft:"8px"}}),ut.n),da=Se.default.div((function(){return{fontStyle:"normal",fontWeight:500,fontSize:"14px",lineHeight:"17px",padding:"4px 8px",color:"#000629"}}),ut.d,ut.n),ua=(Se.default.img({width:"14px",height:"14px",marginLeft:"4px"}),Se.default.div((function(e){return{width:"147px",height:"90px",padding:"8px 16px",display:"flex",flexDirection:"column",position:"absolute",right:"24px",top:"".concat(50*e.itemIndex+58,"px"),background:"#FFFFFF",boxShadow:"0px 4px 12px rgba(0, 6, 41, 0.1)",zIndex:200}}))),pa=Se.default.div({fontStyle:"normal",fontWeight:500,fontSize:"14px",lineHeight:"21px",color:"#7B7F93",padding:"8px 0",cursor:"pointer",":hover":{color:"#304FFE"}}),ba=Se.default.img((function(e){return{width:"16px",height:"16px",cursor:e.isButton?"pointer":"auto"}}),ut.n),fa=Object(Se.default)(pt)((function(e){return{justifyContent:"center",flexDirection:"row",alignItems:"center",flex:e.flex||"3"}})),xa=Object(Se.default)(pt)({flexDirection:"row",alignItems:"center",minHeight:"50px",borderTop:"1px dashed #DDDDE3",justifyContent:"space-evenly"}),ja=Object(Se.default)(fa)({}),ha=Object(Se.default)(pt)({maxHeight:"200px",flexDirection:"column",position:"relative"}),ma=Object(Se.default)(pt)({flexDirection:"row",alignItems:"center",marginBottom:"8px"}),Oa=Object(Se.default)(pt)({flexDirection:"column",minHeight:"50px"}),ga=function(e){var t=e.purchases,n=e.color,i=e.title,r=e.isClosed,a=e.isMobile;return Object(Qe.jsxs)(xa,{padding:a?"0 0 0 10px":"0 0 0 20px",children:[Object(Qe.jsx)(ja,{children:Object(Qe.jsx)(da,{color:n,children:i})}),Object.values(t).filter((function(e){return"SUBMITTED"!==e&&"CLAIMED"!==e})).map((function(e,t){return Object(Qe.jsx)(ja,{children:Object(Qe.jsx)(da,{children:e})},t)})),r?Object(Qe.jsx)(pt,{flex:a?1:2.5,justifyContent:"center",children:Array.isArray(t)?"CLAIMED"===t[0].status:"CLAIMED"===t.status?Object(Qe.jsxs)(Qe.Fragment,{children:[Object(Qe.jsx)(ba,{src:sa,color:"#4B9E98",margin:a?"4px 32px 4px 0px":"4px 4px 4px 8px"}),!a&&Object(Qe.jsx)(da,{color:"#4B9E98",padding:"4px 8px 4px 0",children:"Claimed"})]}):Object(Qe.jsxs)(Qe.Fragment,{children:[Object(Qe.jsx)(ba,{src:ca,margin:"4px 4px 4px 8px"}),", !isMobile && (",Object(Qe.jsx)(da,{color:"#000629",padding:"4px 8px 4px 0",children:"Unclaimed"}),")"]})}):null]})},ya=function(e){var t=e.headData,n=e.bodyData,i=e.isClosed,r=Object(l.useState)(-1),a=Object(Oe.a)(r,2),o=a[0],c=(a[1],ct().isMobile);return Object(Qe.jsxs)(ha,{children:[Object(Qe.jsx)(ma,{children:t.map((function(e,t){var n=e.title,i=e.flex;return Object(Qe.jsx)(fa,{flex:i,children:Object(Qe.jsx)(la,{children:n})},t)}))}),Object(Qe.jsx)(Oa,{children:Object(Qe.jsx)(oa.Scrollbars,{autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!0,autoHeightMin:0,autoHeightMax:200,children:n.map((function(e){var t=e.purchases,n=e.color,r=e.title;if(!Array.isArray(t))return Object(Qe.jsx)(ga,{isMobile:c,isClosed:i,purchases:t,color:n,title:r});t.map((function(e,a){return Object(Qe.jsx)(ga,{isMobile:c,isClosed:i,purchases:t,color:n,title:r},a)}))}))})}),-1!==o&&Object(Qe.jsxs)(ua,{itemIndex:o,children:[Object(Qe.jsx)(pa,{children:"Change Bid Price"}),Object(Qe.jsx)(pa,{children:"Withdraw Bid"})]})]})};function va(e){var t=e.sale,n=e.bids,i=e.isFixed,r=ct().isMobile,a=[{title:"Type",flex:r?3.5:3},{title:"Amount"},{title:"Value"},{title:"Status",flex:r?2:3}],o=[{title:"Withdraw",purchases:{amount:zn()(H(n.amount,t.tokenOut.decimals)).format("0.[0000]")+" "+t.tokenOut.symbol,value:zn()(H(t.tokenPrice,t.tokenOut.decimals)*H(n.amount,t.tokenOut.decimals)).format("0.[0000]")+" "+t.tokenIn.symbol,status:n.status}}],c=n.length>0?[{title:"Buy Order",color:"#4B9E98",purchases:n.map((function(e){return{amount:zn()(H(e.amount,t.tokenOut.decimals)).format("0.[0000]")+" "+t.tokenOut.symbol,value:zn()(H(t.tokenPrice,t.tokenOut.decimals)*H(e.amount,t.tokenOut.decimals)).format("0.[0000]")+" "+t.tokenIn.symbol,status:e.status}}))}]:[],s=[{title:"Token Price"},{title:"Amount"},{title:"Total Tokens",flex:r?5:3},{title:"Status",flex:r?1:3}],l=[{title:"Token Price"},{title:"Amount"},{title:"Est. Invested"},{title:t.tokenOut.symbol}],d=i?[]:[{bids:n.map((function(e){return{bidPrice:zn()(H(e.tokenIn,t.tokenIn.decimals)/H(e.tokenOut,t.tokenOut.decimals)).format("0.[0000]")+" "+t.tokenIn.symbol,tokenIn:zn()(H(e.tokenIn,t.tokenIn.decimals)).format("0.[0000]"),tokenOut:zn()(H(e.tokenOut,t.tokenOut.decimals)).format("0.[0.0000]"),totalToken:zn()(H(e.tokenIn,t.tokenIn.decimals)*H(e.tokenOut,t.tokenOut.decimals)).format("0.[0000]")+" "+t.tokenOut.symbol}}))}];return i&&gn(t)?Object(Qe.jsx)(ya,{headData:a,bodyData:o,isClosed:!0}):i&&mn(t)?Object(Qe.jsx)(ya,{headData:[{title:"Type"},{title:"Amount"},{title:"Value"}],bodyData:c}):mn(t)?Object(Qe.jsx)(ya,{headData:l,bodyData:d}):Object(Qe.jsx)(ya,{headData:s,bodyData:d})}ya.defaultProps={isClosed:!1},va.defaultProps={status:"active",showGraph:!1,isFixed:!1};var wa,ka,Sa=n.p+"static/media/metamask.4d940aa1.svg",Ia=n.p+"static/media/wallet-connect.13f91b45.svg",Da={Github:Yt,Twitter:Xt,Discord:qt,Telegram:Kt},Ta=(wa={},Object(M.a)(wa,Ke.Injected,Sa),Object(M.a)(wa,Ke.WalletConnect,Ia),wa),Ca=Se.default.div((function(){return{marginTop:"16px",width:"100%",padding:"32px 0",outline:0,display:"flex",flexDirection:"column",border:"1px dashed #DDDDE3",borderWidth:"1px 0 0 0"}}),ut.n,ut.j,ut.b),Ea=Object(Se.default)(pt)((function(){return{padding:0,justifyContent:"flex-start",maxWidth:"578px"}}),ut.j,ut.n),Aa=Se.default.div({fontStyle:"normal",fontWeight:500,fontSize:"16px",lineHeight:"19px",color:"#000629"}),Fa=Se.default.div(ut.j,ut.n),Ma=Se.default.div((function(){return{fontStyle:"normal",fontWeight:500,fontSize:"14px",lineHeight:"21px",color:"#7B7F93",margin:"0 0 4px 0",cursor:"pointer",userSelect:"none"}}),ut.d,ut.n),_a=Se.default.p((function(){return{fontStyle:"normal",fontWeight:400,fontSize:"14px",lineHeight:"21px",color:"#7B7F93"}}),ut.d,ut.n),Pa=Se.default.a((function(){return{fontStyle:"normal",fontWeight:500,fontSize:"14px",lineHeight:"21px",color:"#7B7F93",margin:"0 0 4px 0",cursor:"pointer",userSelect:"none"}}),ut.d,ut.n),Ba=Se.default.img((function(){return{width:"16px",height:"16px",cursor:"pointer"}}),ut.n,ut.j),Ra=function(e){var t=e.sale,n=e.saleDetails,i=ct(),r=i.isMobile,a=i.windowSize.width,o=(null===t||void 0===t?void 0:t.tokenOut.id)?"".concat(t.tokenOut.id.substr(0,6),"...").concat(t.tokenOut.id.substr(-4)):"",c={};return r&&(c.margin="32px 24px",c.padding="24px 0 0",c.width="calc(100% - 48px)"),Object(Qe.jsxs)(Ca,Object(S.a)(Object(S.a)({},c),{},{children:[Object(Qe.jsx)(Aa,{children:"About ".concat(t.name)}),(null===n||void 0===n?void 0:n.description)&&Object(Qe.jsx)(Fa,{marginY:"16px",maxWidth:r?a-48:"578px","data-testid":"info-description",children:n.description.map((function(e,t){return Object(Qe.jsxs)("span",{children:[e.title&&Object(Qe.jsx)(Ma,{marginBottom:"6px",children:e.title}),e.p&&Object(Qe.jsx)(_a,{children:e.p})]},t)}))}),Object(Qe.jsxs)(Ea,{flexDirection:r?"column":"row",maxWidth:r?a-48:"578px",alignItems:r?"flex-start":"center",children:[r&&(null===n||void 0===n?void 0:n.socials)&&Object(Qe.jsxs)(pt,{paddingRight:"40px",flexDirection:"column",children:[Object(Qe.jsx)(Ma,{marginBottom:"8px",children:"Socials"}),Object(Qe.jsx)(pt,{flexDirection:"row",alignItems:"center",children:n.socials.map((function(e,t){return Object(Qe.jsx)("a",{href:e.link,target:"_blank",rel:"noreferrer",children:Object(Qe.jsx)(Ba,{src:e.icon||Da[e.name],height:"24px",width:"24px",margin:"0 24px 0 0",alt:e.name})},t)}))})]}),(null===n||void 0===n?void 0:n.website)&&Object(Qe.jsxs)(pt,{paddingRight:"40px",flexDirection:"column",marginTop:r?"16px":"0",children:[Object(Qe.jsx)(Ma,{children:"Website"}),Object(Qe.jsx)("a",{href:n.website.url,target:"_blank",rel:"noreferrer","data-testid":"info-website",children:Object(Qe.jsxs)(pt,{flexDirection:"row",alignItems:"center",children:[Object(Qe.jsx)(Ma,{color:"#000629",margin:"0 8px 0 0",children:n.website.url}),Object(Qe.jsx)(Ba,{src:Vt})]})})]}),o&&Object(Qe.jsxs)(pt,{paddingRight:"40px",flexDirection:"column",marginTop:r?"16px":"0",children:[Object(Qe.jsx)(Ma,{children:"Token Address"}),Object(Qe.jsx)(Pa,{href:"".concat(de.blockExplorerUrls[0],"/address/").concat(t.tokenOut.id),target:"_blank",color:"#000629",margin:"0 8px 0 0",children:Object(Qe.jsxs)(pt,{flexDirection:"row",alignItems:"center",children:[o,Object(Qe.jsx)(Ba,{src:Vt})]})})]}),!r&&(null===n||void 0===n?void 0:n.socials)&&Object(Qe.jsxs)(pt,{paddingRight:"40px",flexDirection:"column",marginTop:r?"16px":"0",children:[Object(Qe.jsx)(Ma,{children:"Socials"}),Object(Qe.jsx)(pt,{flexDirection:"row",alignItems:"center","data-testid":"info-socials",children:n.socials.map((function(e,t){return Object(Qe.jsx)("a",{href:e.link,target:"_blank",rel:"noreferrer",children:Object(Qe.jsx)(Ba,{src:e.icon||Da[e.name],margin:"0 16px 0 0",alt:e.name})},t)}))})]})]})]}))},za=Se.default.div({fontStyle:"normal",fontWeight:600,fontSize:"36px",lineHeight:"44px",color:"#000629",margin:"0 40px 0 16px"}),La=Se.default.div({padding:"4px 8px",background:"#000629",fontStyle:"normal",fontWeight:500,fontSize:"16px",lineHeight:"19px",color:"#ffffff"}),Na=Se.default.div({fontStyle:"normal",fontWeight:"normal",fontSize:"36px",lineHeight:"44px",textAlign:"right",color:"#7b7f93",marginLeft:"auto"}),Wa=Se.default.div({fontStyle:"normal",fontWeight:600,fontSize:"36px",lineHeight:"44px",color:"#000629",margin:"0 16px 0 0"}),Ha=Se.default.div({padding:"4px 8px",background:"#000629",fontStyle:"normal",fontWeight:500,fontSize:"16px",lineHeight:"19px",color:"#ffffff",height:"28px",margin:"8px 0"}),Ua=Se.default.div((function(e){return{display:"flex",flexDirection:"row",alignItems:e.isMobile?"flex-start":"center",justifyContent:"flex-start",margin:"24px 0",padding:e.isMobile?"0 24px":0}})),Ga=Se.default.img({width:"60px",height:"60px",borderRadius:"60px"}),Va=Se.default.img({width:"48px",height:"48px",borderRadius:"48px"}),Ka=function(e){var t,n=e.sale,i=ct().isMobile,r=Math.abs(p()(Date.now()).unix()-fn(n.startDate)),a=Math.abs(p()(Date.now()).unix()-fn(n.endDate)),o=Object(l.useState)(0),c=Object(Oe.a)(o,2)[1];Object(l.useEffect)((function(){var e=setInterval((function(){return c((function(e){return e+1}))}),1e3);return function(){clearInterval(e)}}),[]);var s,d="";return On(n)?d=yn(r):mn(n)&&(d=yn(a)),i?Object(Qe.jsxs)(Ua,{isMobile:i,children:[Object(Qe.jsx)(Va,{src:(null===(s=n.tokenOut)||void 0===s?void 0:s.icon)||ei}),Object(Qe.jsxs)(pt,{flexDirection:"row",flexWrap:"wrap",marginLeft:"16px",children:[Object(Qe.jsx)(Wa,{children:"".concat(n.name)}),Object(Qe.jsx)(Ha,{children:"Public"})]})]}):Object(Qe.jsxs)(Ua,{isMobile:i,children:[Object(Qe.jsx)(Ga,{src:(null===(t=n.tokenOut)||void 0===t?void 0:t.icon)||ei}),Object(Qe.jsx)(za,{children:"".concat(n.name)}),Object(Qe.jsx)(La,{children:"Public"}),mn(n)&&Object(Qe.jsx)(Na,{"data-testid":"format_time",children:d})]})},qa=Se.default.div((function(e){return{fontSize:e.theme.fontSizes[3]}}),ut.f,ut.k,ut.h);function Xa(){var e=Object(l.useState)(ka.UNCLAIMED),t=Object(Oe.a)(e,2),n=t[0],i=t[1],r=Object(l.useState)(),a=Object(Oe.a)(r,2),c=a[0],s=a[1],d=Object(l.useState)(),u=Object(Oe.a)(d,2),p=u[0],b=u[1],f=Object(o.c)(),x=f.account,j=f.library,h=f.chainId,m=Object(lt.a)(),O=Object(Oe.a)(m,1)[0],g=null===j||void 0===j?void 0:j.getSigner();Object(l.useEffect)((function(){}),[x,h,j]);return{claim:n,transaction:p,error:c,claimTokens:function(e){mr.connect(e,g).closeSale().then((function(e){return e.wait(1)})).catch((function(e){return console.error(e),s(e)})),mr.connect(e,g).claimTokens().then((function(e){return i(ka.VERIFY),b(e),e.wait(1)})).then((function(){return Ie.b.success(O("success.claim")),i(ka.CLAIMED)})).catch((function(e){return s(e),console.error(e),Ie.b.error(O("errors.claim")),i(ka.FAILED)}))},withdrawTokens:function(e){mr.connect(e,g).releaseTokens().then((function(e){return i(ka.VERIFY),b(e),e.wait(1)})).then((function(){return Ie.b.success(O("success.withdraw")),i(ka.CLAIMED)})).catch((function(e){return s(e),console.error(e),Ie.b.error(O("errors.withdraw")),i(ka.FAILED)}))}}}!function(e){e.UNCLAIMED="unclaimed",e.VERIFY="verify",e.FAILED="failed",e.CLAIMED="claimed"}(ka||(ka={}));var Ya=Object(Se.default)(Vr)((function(e){return{height:"40px",fontWeight:"500",padding:"0 16px",fontSize:"14px",lineHeight:"21px",background:e.background||"#304FFE",color:e.color||"#fff"}}));function Qa(e){var t=e.sale,n=ct().isMobile,i=Object(Se.useTheme)(),r=Object(lt.a)(),a=Object(Oe.a)(r,1)[0],o=Xa(),c=o.error,s=o.claim,l=o.claimTokens,d=o.withdrawTokens,u=R.a.from(t.minimumRaise),p=R.a.from(t.soldAmount);return Object(Qe.jsxs)(Ut,{display:"flex",padding:n?"16px":i.space[4],border:"none",flexDirection:"row",alignItems:"center",children:[Object(Qe.jsx)(qa,{fontSize:"16px",lineHeight:"19px",color:"#000629",fontWeight:"500",children:a("texts.yourActivity")}),Object(Qe.jsx)(pt,{flex:1}),gn(t)&&!n&&Object(Qe.jsx)(Qe.Fragment,{children:p.gte(u)?"verify"==s?Object(Qe.jsx)(Ya,{mr:"16px",disabled:!1,type:"button",background:"#304FFE",color:"#fff",children:Object(Qe.jsx)(Mr,{})}):"failed"===s?Object(Qe.jsx)(Ya,{mr:"16px",disabled:!1,type:"button",children:null===c||void 0===c?void 0:c.message}):Object(Qe.jsx)(Ya,{disabled:!1,mr:"16px",type:"button",onClick:function(){return l(t.id)},children:"Claim Tokens"}):"verify"===s?Object(Qe.jsx)(Ya,{disabled:!0,type:"button",background:"#7B7F93",color:"#fff",children:Object(Qe.jsx)(Mr,{})}):Object(Qe.jsx)(Ya,{disabled:"claimed"===s,type:"button",onClick:function(){return d(t.id)},background:"#7B7F93",color:"#fff",children:"Withdraw Failed Bids"})})]})}function Ja(e,t){var n=Object(l.useState)(null),i=Object(Oe.a)(n,2),r=i[0],a=i[1];function o(){return(o=Object(T.a)(D.a.mark((function e(n){var i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(ue,"/ipfs/").concat(n));case 2:if(!(i=e.sent).ok){e.next=7;break}return e.abrupt("return",t?i.json():i.body);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useEffect)((function(){e&&function(e){return o.apply(this,arguments)}(e).then((function(e){return a(e)}))}),[e]),r}var Za=Se.default.div({fontStyle:"normal",fontWeight:500,fontSize:"16px",lineHeight:"19px",color:"#7B7F93"});function $a(){var e,t,n,i,r,a,c,s,d,u=ct().isMobile,p=Object(o.c)().account,b=Object(l.useState)(!1),f=Object(Oe.a)(b,2),x=f[0],j=f[1],h=Object(st.f)(),m=Mi(h.saleId),O=m.error,g=m.loading,y=m.sale,v=Object(Se.useTheme)(),w=vr(h.saleId,y.__typename).bids,k=Ja("QmRVKi23YQmXLStgSK5bQS9QyiAeWZmjVNQTbx61NUAhcg",!0),S=Object(lt.a)(),I=Object(Oe.a)(S,1)[0],D=function(){(x||y&&w&&w.length>0)&&j(!x)};return g?Object(Qe.jsx)(bt,{minHeight:"100vh",children:"loading"}):O?Object(Qe.jsx)(bt,{children:Object(Qe.jsx)(ni,{error:O})}):y?Object(Qe.jsxs)(Ht,{minHeight:"100%",inner:!1,noPadding:!0,children:[Object(Qe.jsxs)(Ht,{noPadding:!0,children:[!u&&Object(Qe.jsx)(Wt,{}),Object(Qe.jsx)(Ka,{sale:y}),Object(Qe.jsxs)(pt,{flexDirection:"row",justifyContent:"space-between",children:[Object(Qe.jsxs)(pt,{flexDirection:"column",flex:1,children:[Object(Qe.jsxs)(Gt,{border:"none",marginX:u?"8px":"0",children:[Object(Qe.jsx)(Ut,{display:"flex",borderBottom:"1px dashed #DDDDE3",padding:u?"16px 16px 0 16px":v.space[4],children:u?Object(Qe.jsxs)(pt,{flexDirection:"column",flex:1,children:[Object(Qe.jsx)(Pn,{isMobile:!0,title:"Price",description:"".concat(H(y.tokenPrice,y.tokenOut.decimals).toFixed(2)," ").concat(null===(e=y.tokenIn)||void 0===e?void 0:e.symbol,"/").concat(null===(t=y.tokenOut)||void 0===t?void 0:t.symbol)}),Object(Qe.jsx)(Pn,{isMobile:!0,title:gn(y)?"Amount Sold":"Min. - Max. Allocation",description:"".concat(H(y.allocationMin,y.tokenOut.decimals)," - ").concat(H(y.allocationMax,y.tokenOut.decimals)," ").concat(null===(n=y.tokenOut)||void 0===n?void 0:n.symbol),tooltip:I("texts.minMaxAllocationInfo")}),gn(y)&&Object(Qe.jsx)(Pn,{isMobile:!0,title:"Closed On",description:vn(y.endDate),textAlign:"right"}),On(y)&&Object(Qe.jsx)(Pn,{isMobile:!0,title:"Starts On",description:vn(y.startDate),textAlign:"right"}),mn(y)&&Object(Qe.jsx)(Pn,{isMobile:!0,title:"Ends In",description:"",textAlign:"right",saleLive:!0,sale:y})]}):Object(Qe.jsxs)(pt,{flexDirection:"row",alignItems:"center",flex:1,children:[Object(Qe.jsx)(Pn,{title:"Price",description:"".concat(H(y.tokenPrice,y.tokenOut.decimals).toFixed(2)," ").concat(null===(i=y.tokenIn)||void 0===i?void 0:i.symbol,"/").concat(null===(r=y.tokenOut)||void 0===r?void 0:r.symbol)}),gn(y)?Object(Qe.jsx)(Pn,{title:y.soldAmount<y.minimumRaise?"Soft Cap not reached":"Amount Sold",description:"".concat(H(y.soldAmount)," ").concat(null===(a=y.tokenOut)||void 0===a?void 0:a.symbol),error:y.soldAmount<y.minimumRaise}):Object(Qe.jsx)(Pn,{title:"Min. - Max. Allocation",description:"".concat(H(y.allocationMin,y.tokenOut.decimals)," - ").concat(H(y.allocationMax,y.tokenOut.decimals)," ").concat(null===(c=y.tokenOut)||void 0===c?void 0:c.symbol),tooltip:I("texts.minMaxAllocationInfo")}),(gn(y)||On(y))&&Object(Qe.jsx)(pt,{flex:.2}),gn(y)&&Object(Qe.jsx)(Pn,{title:"Closed On",description:vn(y.endDate),textAlign:"right"}),On(y)&&Object(Qe.jsx)(Pn,{title:"Starts On",description:vn(y.startDate),textAlign:"right"}),mn(y)&&Object(Qe.jsx)(Pn,{title:"Ends In",description:"",textAlign:"right",saleLive:!0,sale:y,flexAmount:1.3})]})}),mn(y)&&Object(Qe.jsx)(Ut,{display:"flex",padding:u?"16px":v.space[4],border:"none",children:Object(Qe.jsx)(aa,{sale:y,showGraph:x,toggleGraph:D,isFixed:!0})}),gn(y)&&Object(Qe.jsx)(Ut,{display:"flex",padding:u?"16px":v.space[4],border:"none",children:Object(Qe.jsx)(aa,{sale:y,showGraph:x,toggleGraph:D,isFixed:!0,status:gn(y)?"closed":"active"})})]}),w&&w.length>0&&Object(Qe.jsxs)(Gt,{mt:v.space[4],marginX:u?"8px":"",border:"none",children:[Object(Qe.jsx)(Qa,{sale:y}),Object(Qe.jsx)(va,{sale:y,isFixed:!0,bids:gn(y)?yr(w,p):w})]}),Object(Qe.jsx)(Ra,{sale:y,saleDetails:k})]}),!u&&mn(y)&&Object(Qe.jsx)(pt,{flexDirection:"column",width:"377px",marginLeft:"24px",children:Object(Qe.jsxs)(Gt,{border:"none",children:[Object(Qe.jsx)(Ut,{display:"flex",borderBottom:"1px dashed #DDDDE3",padding:v.space[4],children:Object(Qe.jsxs)(pt,{flexDirection:"row",alignItems:"center",flex:1,justifyContent:"space-between",children:[Object(Qe.jsx)(Pn,{title:"Buy ".concat(null===(s=y.tokenOut)||void 0===s?void 0:s.symbol),description:"",color:"#000629"}),Object(Qe.jsx)(Za,{children:"Max. ".concat(Ui.utils.formatUnits(null===y||void 0===y?void 0:y.allocationMax)," ").concat(null===(d=y.tokenOut)||void 0===d?void 0:d.symbol)})]})}),Object(Qe.jsx)(Ut,{display:"flex",padding:v.space[4],children:Object(Qe.jsx)(Gr,{saleId:y.id})})]})})]})]}),u&&Object(Qe.jsx)(Bt,{})]}):Object(Qe.jsx)(ht,{})}var eo=function(e){var t=e.isDisabled,n=e.isFixed,i=e.approve,r=Object(lt.a)(),a=Object(Oe.a)(r,1)[0];return i?Object(Qe.jsx)(ft,{disabled:t,"data-testid":"submit-button",type:"submit",title:a("buttons.placeBid"),formButton:!0,width:"100%",height:"48px",fontWeight:"500",padding:!1,fontSize:"14px",lineHeight:"21px",border:!0,background:t?"#DDDDE3":"#304FFE",color:t?"#7B7F93":"#fff",children:a("texts.approve")}):Object(Qe.jsx)(ft,{disabled:t,"data-testid":"submit-button",type:"submit",title:a("buttons.placeBid"),formButton:!0,width:"100%",height:"48px",fontWeight:"500",padding:!1,fontSize:"14px",lineHeight:"21px",border:!0,background:t?"#DDDDE3":"#304FFE",color:t?"#7B7F93":"#fff",children:a(n?"texts.placeBuyOrder":"buttons.placeBid")})},to=Se.default.form({flex:1}),no=Se.default.div({fontStyle:"normal",fontWeight:500,fontSize:"14px",lineHeight:"48px",marginRight:"24px",width:"80px",color:"#000629"}),io=Se.default.div({fontStyle:"normal",fontWeight:"normal",fontSize:"12px",lineHeight:"17px",marginTop:"8px",color:"#7B7F93"}),ro=Se.default.div({height:"48px",width:"100%",background:"#F2F2F2",border:"none",display:"flex"}),ao=Se.default.div({position:"absolute",flex:1,background:"transparent",border:"none",color:"#7B7F93",fontSize:"14px",lineHeight:"48px",margin:"0 16px",userSelect:"none"}),oo=Se.default.div({border:"1px dashed #DDDDE3",borderWidth:"1px 0 0 0",padding:"16px 0 8px 0",textAlign:"center",fontSize:"14px",lineHeight:"21px",color:"#7B7F93",fontWeight:400}),co=Se.default.div({border:"1px solid #DDDDE3",padding:"0 4px",fontStyle:"normal",fontWeight:500,fontSize:"14px",lineHeight:"21px",textAlign:"center",color:"#7B7F93",position:"absolute",right:"16px",top:"13px",cursor:"pointer",zIndex:200}),so=Se.default.input({flex:1,height:"unset",background:"transparent",border:"none",color:"transparent",padding:"0 16px",fontSize:"14px",lineHeight:"21px",zIndex:100,":focus":{backgroundColor:"transparent",color:"transparent"}}),lo=function(e){var t,n=e.sale,i=e.onSubmit,r=e.currentSettlementPrice,a=e.isFixed,o=Object(l.useContext)(Xe),c=o.isShown,s=o.result,d=o.toggleModal,u=o.setResult,p=Object(l.useState)(!1),b=Object(Oe.a)(p,2),f=b[0],x=b[1],j=Object(l.useState)(0),h=Object(Oe.a)(j,2),m=h[0],O=h[1],g=Object(l.useState)(0),y=Object(Oe.a)(g,2),v=y[0],w=y[1],k=Object(l.useState)(!1),S=Object(Oe.a)(k,1)[0],I=Object(Se.useTheme)(),C=function(e){return x(e.every((function(e){return e>0})))},E=function(){var e=Object(T.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&v<=.7*t)){e.next=3;break}return d(),e.abrupt("return",!1);case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(T.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,E(r);case 3:if(e.t0=e.sent,!0!==e.t0){e.next=6;break}i({tokenAmount:m,tokenPrice:v});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){c||!0!==s||(u(!1),i({tokenAmount:m,tokenPrice:v}))}),[c,i,s,u,m,v]);var F=!f||gn(n)||On(n);return Object(Qe.jsxs)(to,{id:"createBidForm",onSubmit:A,children:[!a&&Object(Qe.jsxs)(Vi,{theme:I,children:[Object(Qe.jsx)(no,{children:"Token Price"}),Object(Qe.jsxs)(pt,{flexDirection:"column",flex:1,children:[Object(Qe.jsxs)(ro,{children:[Object(Qe.jsx)(ao,{"data-testid":"price-value",children:"".concat(v.toString()," DAI")}),Object(Qe.jsx)(so,{"aria-label":"tokenPrice",id:"tokenPrice",type:"number",value:Number(v).toString(),onChange:function(e){var t=parseInt(e.target.value||"0");w(t),C([t,m])}}),Object(Qe.jsx)(co,{children:"Max"})]}),Object(Qe.jsx)(io,{children:a?"You have 123,456 DAI.":"Enter the amount of DAI you would like to trade. You have 123,456 DAI."})]})]}),Object(Qe.jsxs)(Vi,{theme:I,children:[Object(Qe.jsx)(no,{children:"Amount"}),Object(Qe.jsxs)(pt,{flexDirection:"column",flex:1,children:[Object(Qe.jsxs)(ro,{children:[Object(Qe.jsx)(ao,{"data-testid":"amount-value",children:"".concat(m.toString()," DAI")}),Object(Qe.jsx)(so,{"aria-label":"tokenAmount",id:"tokenAmount",type:"number",value:Number(m).toString(),onChange:function(e){var t=parseInt(e.target.value||"0");O(t),C(a?[t]:[t,v])}})]}),Object(Qe.jsx)(io,{children:"Enter the price you would pay per XYZ token."})]})]}),a&&Object(Qe.jsx)(oo,{children:"You'll get 1,000 ".concat(null===(t=n.tokenOut)||void 0===t?void 0:t.symbol)}),Object(Qe.jsx)(eo,{isDisabled:F,isFixed:a,approve:S})]})};lo.defaultProps={isFixed:!1};var uo=n(131),po=function(e){var t=e.width,n=e.height,i=e.data,r=(e.userAddress,e.vsp),a=e.sale,o=Object(l.useRef)(null),c=function(e){return H(e.tokenIn,a.tokenIn.decimals)/H(e.tokenOut,a.tokenOut.decimals)},s=function(e,t){return"".concat((H(e.tokenIn,a.tokenIn.decimals)/H(e.tokenOut,a.tokenOut.decimals)).toFixed(2)).concat(H(e.tokenOut,a.tokenOut.decimals)>=4*t?" DAI/XYZ":"")},d=function(e,t){return"".concat(H(e.tokenOut,a.tokenOut.decimals).toFixed(0)).concat(H(e.tokenOut,a.tokenOut.decimals)>=3*t?" XYZ":"")};return Object(l.useEffect)((function(){uo.c(o.current).attr("width",t<=32?0:t-32).attr("height",n).style("border","none")}),[t]),Object(l.useEffect)((function(){!function(){if(!(t<=232)){var e=uo.c(o.current),l=i.sort((function(e,t){return H(t.tokenIn,a.tokenIn.decimals)-H(e.tokenIn,a.tokenIn.decimals)})),u=l.filter((function(e){return c(e)>=.1})),p=l.filter((function(e){return c(e)<.1})),b=u.map((function(e){return H(e.tokenOut,a.tokenOut.decimals)})),f=p.map((function(e){return H(e.tokenOut,a.tokenOut.decimals)}));e.selectAll("g").remove();var x=e.append("g").attr("class","activeSelection").selectAll("rect").data(b),j=(n-5)/l.length,h=b.length*j+5,m=uo.b().domain([0,uo.a([].concat(Object(_.a)(b),Object(_.a)(f)))]).range([0,t-300]),O=.6*(j-5);O>15&&(O=15),x.enter().append("rect").attr("y",(function(e,t){return j*t})).attr("height",j-5).attr("fill","#4B9E985A").attr("width",(function(e){return m(e)+50})).attr("x",(function(e){return 150})),x.enter().append("text").attr("x",(function(e){return 155})).attr("y",(function(e,t){return j*t-1+(j-O)/2})).attr("font-size",(function(e,t){return O})).attr("dy",".71em").attr("text-anchor","start").text((function(e,t){return s(u[t],O)})),x.enter().append("text").attr("x",(function(e){return m(e)+195})).attr("y",(function(e,t){return j*t-1+(j-O)/2})).attr("font-size",(function(e,t){return O})).attr("dy",".71em").attr("text-anchor","end").text((function(e,t){return d(u[t],O)}));var g=e.append("g");if(g.attr("class","line").append("rect").attr("y",h-6).attr("height",1).attr("fill","#304FFE").attr("width",t-130).attr("x",130),g.append("rect").attr("y",h-5.5-.9*O).attr("height",1.8*O).attr("fill","#304FFE").attr("width",90).attr("x",40),g.append("text").attr("y",h-5.5-.4*O).attr("fill","#FFF").attr("x",85).attr("font-size",O).attr("dy",".71em").attr("text-anchor","middle").text((function(){return"CP ".concat(r.toFixed(2)," DAI")})),f.length>0){var y=e.append("g").attr("class","inactiveSelection").selectAll("rect").data(f);y.enter().append("rect").attr("y",(function(e,t){return j*t+h})).attr("height",j-5).attr("fill","#DDDDE3").attr("width",(function(e){return m(e)+50})).attr("x",(function(e){return 150})),y.enter().append("text").attr("x",(function(e){return 155})).attr("y",(function(e,t){return j*t+h-1+(j-O)/2})).attr("font-size",(function(e,t){return O})).attr("dy",".71em").attr("text-anchor","start").text((function(e,t){return s(p[t],O)})),y.enter().append("text").attr("x",(function(e){return m(e)+195})).attr("y",(function(e,t){return j*t+h-1+(j-O)/2})).attr("font-size",(function(e,t){return O})).attr("dy",".71em").attr("text-anchor","end").text((function(e,t){return d(p[t],O)}))}}}()}),[i,t,r]),Object(Qe.jsx)("div",{className:"chart",children:Object(Qe.jsx)("svg",{ref:o})})},bo=n(187),fo=n.n(bo),xo=n(192),jo=n.n(xo),ho=n(226),mo=n.n(ho),Oo=function(e){var t=jo.a.publicKeyCreate(e,!1).slice(1).toString();return mo()("keccak256").update(t).digest().slice(-20).toString("hex")};function go(e){var t=Object(a.b)(),n=Object(lt.a)(),r=Object(Oe.a)(n,1)[0],o=Object(l.useState)(!0),c=Object(Oe.a)(o,2),s=c[0],d=c[1],u=Object(l.useState)(),p=Object(Oe.a)(u,2),b=p[0],f=p[1],x=xr(),j=Object(a.c)((function(e){return e.sales.sales})),h=j.find((function(t){return t.id===e}));return Object(l.useEffect)((function(){if(h)return d(!1);t({type:i.SALES_FETCH_REQUEST}),x.subgraph.query(function(e){return'\n  {\n    fixedPriceSale ("'.concat(e,'") {\n      id\n      name\n      createdAt\n      updatedAt\n      deletedAt\n      status\n      startDate\n      endDate\n      tokenIn {\n        id\n        name\n        symbol\n        decimals\n      }\n      tokenOut {\n        id\n        name\n        symbol\n        decimals\n      }\n      sellAmount\n      soldAmount\n      minimumRaise\n      allocationMin\n      allocationMax\n      tokenPrice\n    }\n    fairSale ("').concat(e,'") {\n      id\n      name\n      createdAt\n      updatedAt\n      deletedAt\n      status\n      startDate\n      endDate\n      tokenAmount\n      minimumBidAmount\n      minFundingThreshold\n      tokenIn {\n        id\n        name\n        symbol\n        decimals\n      }\n      tokenOut {\n        id\n        name\n        symbol\n        decimals\n      }\n    }\n  }\n')}(e)).then((function(e){var n=e.data,i=n.fixedPriceSale,r=n.fairSale;t(C([j].concat(Object(_.a)(i),Object(_.a)(r))))})).catch((function(e){f(e),Ie.b.error(r("errors.fetchSale")),t(E(e))})).then((function(){d(!1),t({type:i.SALES_FETCH_ERROR})}))}),[h,e]),{sale:h,loading:s,error:b}}var yo=Se.default.div({fontStyle:"normal",fontWeight:400,fontSize:"14px",lineHeight:"21px",color:"#7B7F93",margin:"0 16px 16px"});function vo(){var e,t,n,i,r,c,s=Object(o.c)().account,d=ct().isMobile,u=Object(l.useState)(!1),b=Object(Oe.a)(u,2),f=b[0],x=b[1],j=Object(l.useState)(""),h=Object(Oe.a)(j,2),m=h[0],O=h[1],g=Object(l.useState)(),y=Object(Oe.a)(g,2),v=y[0],w=y[1],k=Object(l.useRef)(),S=function(e){var t=Object(l.useState)(0),n=Object(Oe.a)(t,2),i=n[0],r=n[1],a=Object(l.useCallback)((function(){e.current&&r(e.current.clientWidth)}),[e,e.current]);return Object(l.useEffect)((function(){return window.addEventListener("resize",a),window.addEventListener("orientationchange",a),a(),function(){window.removeEventListener("orientationchange",a),window.removeEventListener("resize",a)}}),[e,e.current,a]),{width:i,setWidth:r}}(k),I=S.width,C=S.setWidth,E=Object(st.f)(),A=Object(a.b)(),F=Object(lt.a)(),M=Object(Oe.a)(F,1)[0],_=Object(Se.useTheme)(),P=go(E.saleId).sale,B=Object(a.c)((function(e){return e.bids.bidsBySaleId[E.saleId].bids||[]})),R=function(){(f||P&&B&&B.length>0)&&x(!f)};return Object(l.useEffect)((function(){if(m||O(s||function(){var e=fo()(32);return{address:Oo(e).toString(),privKey:e.toString("hex")}}().address),A(be(M(null===P||void 0===P?void 0:P.name))),P){var e=function(e,t){return V.apply(this,arguments)}("https://api.thegraph.com/subgraphs/name/adamazad/aqua-xdai-dev",gr(E.saleId));!function(){return A((t=E.saleId,n=P.type,i=e,function(){var e=Object(T.a)(D.a.mark((function e(r,a){var o,c,s;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=p.a.utc().unix(),c=a().bids.bidsBySaleId[t]||o,s=c.updatedAt,!(Math.abs(s-o)<=3e6)){e.next=5;break}return e.abrupt("return");case 5:return r(K(!0)),e.prev=6,e.t0=r,e.t1=q,e.next=11,G(i,n);case 11:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),e.next=20;break;case 16:e.prev=16,e.t4=e.catch(6),console.error(e.t4),r(X(e.t4));case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t,n){return e.apply(this,arguments)}}()));var t,n,i}(),w(hn(B))}}),[M,P]),P?Object(Qe.jsxs)(Ht,{minHeight:"100%",inner:!1,noPadding:!0,children:[Object(Qe.jsxs)(Ht,{noPadding:!0,children:[!d&&Object(Qe.jsx)(Wt,{}),Object(Qe.jsx)(Ka,{sale:P}),Object(Qe.jsxs)(pt,{flexDirection:"row",justifyContent:"space-between",children:[Object(Qe.jsxs)(pt,{flexDirection:"column",flex:1,children:[Object(Qe.jsxs)(Gt,{border:"none",marginX:d?"8px":"0",children:[Object(Qe.jsx)(Ut,{display:"flex",borderBottom:"1px dashed #DDDDE3",padding:d?"16px 16px 0 16px":_.space[4],children:d?Object(Qe.jsxs)(pt,{flexDirection:"column",flex:1,children:[Object(Qe.jsx)(Pn,{isMobile:!0,title:On(P)?"Min. Price":mn(P)?"Current Price":"Final Price",description:"".concat((1/(v?H(v.tokenIn,P.tokenIn.decimals):1)).toFixed(2)," ").concat(null===(e=P.tokenIn)||void 0===e?void 0:e.symbol,"/").concat(null===(t=P.tokenOut)||void 0===t?void 0:t.symbol)}),Object(Qe.jsx)(Pn,{isMobile:!0,title:gn(P)?"Amount Sold":"Amount for Sale",description:"".concat(zn()(H(P.tokensForSale)).format("0,0")," ").concat(null===(n=P.tokenOut)||void 0===n?void 0:n.symbol)}),gn(P)&&Object(Qe.jsx)(Pn,{isMobile:!0,title:"Closed On",description:vn(P.endDate),textAlign:"right"}),On(P)&&Object(Qe.jsx)(Pn,{isMobile:!0,title:"Starts On",description:vn(P.startDate),textAlign:"right"}),mn(P)&&Object(Qe.jsx)(Pn,{isMobile:!0,title:"Ends In",description:"",textAlign:"right",saleLive:!0,sale:P})]}):Object(Qe.jsxs)(pt,{flexDirection:"row",alignItems:"center",flex:1,children:[Object(Qe.jsx)(Pn,{title:On(P)?"Min. Price":mn(P)?"Current Price":"Final Price",description:"".concat((1/(v?H(v.tokenIn,P.tokenIn.decimals):1)).toFixed(2)," ").concat(null===(i=P.tokenIn)||void 0===i?void 0:i.symbol,"/").concat(null===(r=P.tokenOut)||void 0===r?void 0:r.symbol)}),Object(Qe.jsx)(Pn,{title:gn(P)?"Amount Sold":"Amount for Sale",description:"".concat(zn()(H(P.tokensForSale,P.tokenOut.decimals)).format("0,0")," ").concat(null===(c=P.tokenOut)||void 0===c?void 0:c.symbol)}),(gn(P)||On(P))&&Object(Qe.jsx)(pt,{flex:.2}),gn(P)&&Object(Qe.jsx)(Pn,{title:"Closed On",description:vn(P.endDate),textAlign:"right"}),On(P)&&Object(Qe.jsx)(Pn,{title:"Starts On",description:vn(P.startDate),textAlign:"right"}),mn(P)&&Object(Qe.jsx)(Pn,{title:"Ends In",description:"",textAlign:"right",saleLive:!0,sale:P,flexAmount:1.3})]})}),mn(P)&&B&&B.length>0&&Object(Qe.jsx)(Ut,{display:"flex",padding:d?"16px":_.space[4],border:"none",children:Object(Qe.jsx)(aa,{sale:P,showGraph:f,toggleGraph:R})}),gn(P)&&(!B||0===B.length)&&Object(Qe.jsx)(Ut,{display:"flex",padding:d?"16px":_.space[4],border:"none",children:Object(Qe.jsx)(aa,{sale:P,showGraph:f,toggleGraph:R,status:gn(P)?"closed":"active"})}),d&&f&&Object(Qe.jsx)(yo,{children:"This can be a concise explanation on how the point dutch sale works and how the Current Price is calculated."}),f&&Object(Qe.jsx)(Ut,{display:"flex",padding:"0 16px 16px",border:"none",ref:function(e){e&&(k.current=e,C(e.clientWidth))},children:Object(Qe.jsx)(po,{width:I,height:400,data:B,userAddress:m,vsp:v?1/H(v.tokenIn,P.tokenIn.decimals):0,sale:P})})]}),B&&B.length>0&&Object(Qe.jsxs)(Gt,{mt:_.space[4],marginX:d?"8px":"",border:"none",children:[Object(Qe.jsxs)(Ut,{display:"flex",padding:d?"16px":_.space[4],border:"none",flexDirection:"row",alignItems:"center",children:[Object(Qe.jsx)(qa,{fontSize:"16px",lineHeight:"19px",color:"#000629",fontWeight:"500",children:M("texts.yourBids")}),Object(Qe.jsx)(pt,{flex:1}),gn(P)&&!d&&Object(Qe.jsxs)(Qe.Fragment,{children:[Object(Qe.jsx)(Vr,{disabled:!1,type:"button",height:"40px",fontWeight:"500",padding:"0 16px",fontSize:"14px",lineHeight:"21px",background:"#304FFE",color:"#fff",mr:"16px",children:"Claim Tokens"}),Object(Qe.jsx)(Vr,{disabled:!1,type:"button",height:"40px",fontWeight:"500",padding:"0 16px",fontSize:"14px",lineHeight:"21px",background:"#7B7F93",color:"#fff",children:"Withdraw Failed Bids"})]})]}),Object(Qe.jsx)(va,{sale:P,clearingPrice:v,bids:B})]}),Object(Qe.jsx)(Ra,{sale:P})]}),mn(P)&&!d&&Object(Qe.jsx)(pt,{flexDirection:"column",width:"377px",marginLeft:"24px",children:Object(Qe.jsxs)(Gt,{border:"none",children:[Object(Qe.jsx)(Ut,{display:"flex",borderBottom:"1px dashed #DDDDE3",padding:_.space[4],children:Object(Qe.jsx)(pt,{flexDirection:"row",alignItems:"center",flex:1,children:Object(Qe.jsx)(Pn,{title:"Place a Bid",description:"",color:"#000629"})})}),Object(Qe.jsx)(Ut,{display:"flex",padding:_.space[4],children:Object(Qe.jsx)(lo,{onSubmit:function(){},sale:P,currentSettlementPrice:zn()(hn(B)).value()})})]})})]})]}),d&&Object(Qe.jsx)(Bt,{})]}):Object(Qe.jsx)(ht,{})}function wo(){var e=Object(a.b)(),t=Fi(Object(st.f)().saleId),n=t.loading,i=t.sale,r=t.error;return Object(l.useEffect)((function(){e(be("".concat(null===i||void 0===i?void 0:i.tokenOut.name," \u2013 ").concat(null===i||void 0===i?void 0:i.tokenOut.symbol)||"Sale"))}),[i]),n?Object(Qe.jsx)(bt,{minHeight:"100vh",children:"Loading"}):r?Object(Qe.jsx)(bt,{children:Object(Qe.jsx)(ni,{error:r})}):i?"FixedPriceSale"===i.__typename?Object(Qe.jsx)($a,{}):"FairSale"===i.__typename?Object(Qe.jsx)(vo,{}):Object(Qe.jsx)(ht,{}):Object(Qe.jsx)(ht,{})}var ko=function(e){var t=e.error,n=Object(lt.a)(),i=Object(Oe.a)(n,1)[0];return Object(Qe.jsx)(Gt,{children:Object(Qe.jsx)(Ut,{height:"100%",textAlign:"center",children:Object(Qe.jsxs)(pt,{height:"100%",width:"100%",justifyContent:"center",flexDirection:"column",children:[Object(Qe.jsx)(bn,{children:i("texts.failedTransaction")}),Object(Qe.jsx)(ni,{error:t})]})})})},So=function(){var e=Object(lt.a)(),t=Object(Oe.a)(e,1)[0];return Object(Qe.jsx)(Gt,{children:Object(Qe.jsx)(Ut,{height:"100%",textAlign:"center",children:Object(Qe.jsxs)(pt,{height:"100%",width:"100%",justifyContent:"center",flexDirection:"column",children:[Object(Qe.jsx)(pt,{justifyContent:"center",children:Object(Qe.jsx)(Mr,{})}),Object(Qe.jsx)(bn,{children:t("texts.verifyTransaction")})]})})})},Io=n(256),Do=["amount"],To=Se.default.div({height:"45px",background:"rgba(75, 158, 152, 0.35)",width:"45px",borderRadius:"50%"}),Co=Se.default.a({color:"#304FFE",cursor:"pointer",hover:"underline"},ut.n),Eo=Object(Se.default)(Io.a)((function(e){return{fill:e.color}})),Ao=Se.default.img({height:"32px",width:"32px"},ut.n),Fo=function(e){var t=e.purchase,n=t.amount,i=Object(Sn.a)(t,Do),r=e.tx,a=Object(lt.a)(),o=Object(Oe.a)(a,1)[0],c="https://blockscout.com/xdai/mainnet/tx/".concat(r);return Object(Qe.jsx)(Gt,{children:Object(Qe.jsx)(Ut,{height:"100%",textAlign:"center",children:Object(Qe.jsxs)(pt,{flexDirection:"column",height:"100%",children:[Object(Qe.jsx)(pt,{justifyContent:"center",children:Object(Qe.jsx)(To,{children:Object(Qe.jsx)(Ao,{marginTop:"8px",src:sa})})}),Object(Qe.jsx)(qa,{fontWeight:500,children:o("texts.claimSuccessful")}),Object(Qe.jsx)(bn,{color:"grey",children:"".concat(H(n,null===i||void 0===i?void 0:i.tokenOut.decimals)," ").concat(null===i||void 0===i?void 0:i.tokenOut.name," has been sent to your address.")}),Object(Qe.jsxs)(Co,{marginTop:"24px",href:c,children:["See this transaction on block explorer",Object(Qe.jsx)(Eo,{src:Vt,color:"#304FFE"})]}),Object(Qe.jsx)(ft,{variant:"secondary",width:"90%",children:o("buttons.done")})]})})})},Mo=Se.default.img({height:"32px",width:"32px"},ut.n),_o=function(e){var t=e.sale,n=Object(lt.a)(),i=Object(Oe.a)(n,1)[0],r=ct().isMobile,a=Object(o.c)().account,c=vr(t.id,"FixedPriceSale").bids,s=Xa(),l=s.claimTokens,d=s.claim,u=s.transaction,p=s.error,b=yr(c,a).amount,f=Gi.ethers.utils.formatUnits(b,null===t||void 0===t?void 0:t.tokenOut.decimals).toString().split(".")[0],x=Gi.ethers.utils.formatUnits(b,null===t||void 0===t?void 0:t.tokenOut.decimals).toString().split(".")[1];return c&&0!=c.length?"verify"===d?Object(Qe.jsx)(So,{}):"failed"===d&&p?Object(Qe.jsx)(ko,{error:JSON.stringify(p)}):"claimed"===d?Object(Qe.jsx)(Fo,{purchase:Object(S.a)(Object(S.a)({},t),{},{amount:b}),tx:u.hash}):Object(Qe.jsx)(Gt,{children:Object(Qe.jsxs)(Ut,{padding:rt.space[3],children:[Object(Qe.jsxs)(pt,{margin:"0 0 16px 0",children:[Object(Qe.jsx)($n,{children:Object(Qe.jsx)(Mo,{src:(null===t||void 0===t?void 0:t.tokenOut.icon)||ei})}),Object(Qe.jsxs)(qa,{fontWeight:500,children:["Claim ",null===t||void 0===t?void 0:t.tokenOut.symbol]})]}),Object(Qe.jsx)(Xn,{}),Object(Qe.jsxs)(pt,{flexDirection:"column",justifyContent:"space-evenly",children:[Object(Qe.jsxs)(pt,{justifyContent:"space-between",margin:"24px 0px 12px 0px",children:[Object(Qe.jsx)(bn,{color:"grey",children:i("texts.unclaimed")}),Object(Qe.jsxs)(pt,{children:[Object(Qe.jsx)(bn,{children:f}),Object(Qe.jsx)(bn,{color:"grey",children:".".concat(x)}),Object(Qe.jsxs)(bn,{children:["\xa0",null===t||void 0===t?void 0:t.tokenOut.symbol]})]})]}),Object(Qe.jsxs)(pt,{justifyContent:"space-between",margin:"12px 0px 24px 0px",children:[Object(Qe.jsx)(bn,{color:"grey",children:i("texts.currentPrice")}),Object(Qe.jsx)(bn,{children:"".concat(zn()(Gi.ethers.utils.formatUnits(t?t.tokenPrice:0,null===t||void 0===t?void 0:t.tokenOut.decimals)).format("0.0")," ").concat(null===t||void 0===t?void 0:t.tokenIn.symbol)})]}),Object(Qe.jsx)(ft,{onClick:function(){return l(t.id)},width:"90%",children:i(r?"buttons.shortClaim":"buttons.claimTokens")})]})]})}):null};function Po(){var e=Object(a.b)(),t=Object(o.c)(),n=t.account,i=t.library,r=t.chainId,c=Object(lt.a)(),s=Object(Oe.a)(c,1)[0],d=Object(l.useState)(),u=Object(Oe.a)(d,2),b=u[0],f=u[1],x=Si(),j=x.loading,h=x.error,m=x.sales;return Object(l.useEffect)((function(){if(n&&i&&r){var t=p()(Date.now()).unix();f(m.filter((function(e){return R.a.from(e.soldAmount)>=R.a.from(e.minimumRaise)&&t>=e.endDate}))),e(be(s("pagesTitles.tokens")))}}),[n,r,i,j]),j?Object(Qe.jsx)(Ht,{minHeight:"100vh",inner:!1,noPadding:!0,children:Object(Qe.jsxs)(Ht,{children:[Object(Qe.jsx)(xt,{children:s("texts.claimTokens")}),Object(Qe.jsx)(xi,{children:Object(Qe.jsx)("h1",{children:"Loading!"})})]})}):h?Object(Qe.jsx)(Ht,{minHeight:"100vh",inner:!1,noPadding:!0,children:Object(Qe.jsxs)(Ht,{children:[Object(Qe.jsx)(xt,{children:s("texts.claimTokens")}),Object(Qe.jsx)(xi,{children:Object(Qe.jsx)(ni,{error:h})})]})}):Object(Qe.jsx)(Ht,{minHeight:"100vh",inner:!1,noPadding:!0,children:Object(Qe.jsxs)(Ht,{children:[Object(Qe.jsx)(xt,{children:s("texts.claimTokens")}),Object(Qe.jsx)(xi,{children:(null===b||void 0===b?void 0:b.length)?null===b||void 0===b?void 0:b.map((function(e){return Object(Qe.jsx)(_o,{sale:e},e.id)})):Object(Qe.jsx)("h1",{children:"No Tokens Available to Claim"})})]})})}var Bo=function(){return Object(l.useContext)(qe)?Object(Qe.jsx)(st.c,{children:Object(Qe.jsx)(st.a,{exact:!0,path:"*",component:ht})}):Object(Qe.jsxs)(st.c,{children:[Object(Qe.jsx)(st.a,{exact:!0,path:"/",component:Ei}),Object(Qe.jsx)(st.a,{exact:!0,path:"/sales",component:Ei}),Object(Qe.jsx)(st.a,{exact:!0,path:"/sales/:saleId",component:wo}),Object(Qe.jsx)(st.a,{exact:!0,path:"/about",component:Bn}),Object(Qe.jsx)(st.a,{exact:!0,path:"/contact",component:Ei}),Object(Qe.jsx)(st.a,{exact:!0,path:"/tokens",component:Po}),Object(Qe.jsx)(st.a,{exact:!0,path:"*",component:ht})]})},Ro=n.p+"static/media/Menu-Icon.3e720193.svg",zo=Se.default.div((function(e){return{height:"8vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.error?"#E15F5F":"white",color:e.error?"white":"black"}})),Lo=Se.default.div({flex:"1",textAlign:"center"}),No=Se.default.img({width:"16px",height:"16px",margin:"0px 25px",cursor:"pointer"});No.defaultProps={src:qi};var Wo,Ho,Uo,Go,Vo,Ko,qo,Xo,Yo,Qo,Jo,Zo,$o,ec,tc,nc,ic,rc,ac,oc,cc,sc,lc,dc=function(e){var t=e.children,n=e.error,i=void 0!==n&&n,r=e.close;return Object(Qe.jsxs)(zo,{error:i,children:[Object(Qe.jsx)(Lo,{children:t}),r&&Object(Qe.jsx)(No,{onClick:r})]})},uc=n.p+"static/media/Message.75b25c20.svg",pc=n.p+"static/media/Close-white.3b86cd63.svg",bc=Se.default.div(Wo||(Wo=Object(ge.a)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 500;\n\n  @media (max-width: 640px) {\n    background-color: rgba(0, 0, 0, 0.4);\n  }\n"]))),fc=Se.default.div(Ho||(Ho=Object(ge.a)(["\n  position: fixed;\n  bottom: 108px;\n  right: 32px;\n  z-index: 700;\n  width: 100%;\n  max-width: 400px;\n  outline: 0;\n\n  @media (max-width: 640px) {\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    max-width: initial;\n  }\n"]))),xc=Se.default.div(Uo||(Uo=Object(ge.a)(["\n  z-index: 100;\n  box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.1);\n  border-radius: 10px 10px 0 10px;\n  position: relative;\n  margin: auto;\n"]))),jc=Se.default.div(Go||(Go=Object(ge.a)(["\n  background: #304ffe;\n  padding: 28px;\n  border-radius: 10px 10px 0 0;\n"]))),hc=Se.default.img(Vo||(Vo=Object(ge.a)(["\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  height: 24px;\n  width: 24px;\n  cursor: pointer;\n"]))),mc=Se.default.div(Ko||(Ko=Object(ge.a)(["\n  color: #fff;\n  font-family: Inter;\n  font-weight: 300;\n  font-size: 16px;\n  line-height: 24px;\n  margin-bottom: 12px;\n\n  & strong {\n    font-weight: 600;\n  }\n"]))),Oc=Se.default.div(qo||(qo=Object(ge.a)(["\n  color: #fff;\n  font-family: Inter;\n  font-weight: 500;\n  font-size: 22px;\n  line-height: 26px;\n"]))),gc=Se.default.div(Xo||(Xo=Object(ge.a)(["\n  background: #f8f8f8;\n  color: #7b7f93;\n  padding: 28px;\n  max-height: 30rem;\n  overflow-x: hidden;\n  overflow-y: auto;\n\n  @media (max-width: 640px) {\n    border-radius: 0 0 10px 10px;\n  }\n"]))),yc=Se.default.div(Yo||(Yo=Object(ge.a)(["\n  position: fixed;\n  bottom: 48px;\n  right: 32px;\n  z-index: 600;\n  outline: 0;\n"]))),vc=Se.default.button(Qo||(Qo=Object(ge.a)(["\n  background-color: #304ffe;\n  color: #fff;\n  font-size: 24px;\n  height: 48px;\n  width: 48px;\n  border: none;\n  border-radius: 50%;\n  filter: drop-shadow(0px 2px 4px rgba(0, 0, 0, 0.25));\n"]))),wc=Se.default.a(Jo||(Jo=Object(ge.a)(["\n  display: block;\n  background: #fff;\n  border: 1px solid #dddde3;\n  padding: 16px;\n  margin-bottom: 16px;\n\n  &:hover {\n    text-decoration: none;\n    border-color: #304ffe;\n  }\n"]))),kc=Se.default.div(Zo||(Zo=Object(ge.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),Sc=Se.default.img($o||($o=Object(ge.a)(["\n  width: 32px;\n  height: 32px;\n  margin-right: 16px;\n"]))),Ic=Se.default.div(ec||(ec=Object(ge.a)(["\n  color: #182626;\n  font-size: 16px;\n  font-weight: 500;\n"]))),Dc=Se.default.div(tc||(tc=Object(ge.a)(["\n  font-size: 14px;\n  color: #768282;\n"]))),Tc=Se.default.img(nc||(nc=Object(ge.a)(["\n  width: 16px;\n  height: 16px;\n  margin-bottom: 3px;\n  margin-left: 4px;\n"]))),Cc=function(e){var t=e.title,n=e.description,i=e.icon,r=e.link;return Object(Qe.jsx)(wc,{href:r,target:"_blank",children:Object(Qe.jsxs)(kc,{children:[Object(Qe.jsx)("div",{children:Object(Qe.jsx)(Sc,{src:i})}),Object(Qe.jsxs)("div",{children:[Object(Qe.jsxs)(Ic,{children:[t," ",Object(Qe.jsx)(Tc,{src:Vt})]}),Object(Qe.jsx)(Dc,{children:n})]})]})})},Ec=function(){var e=Object(l.useState)(!1),t=Object(Oe.a)(e,2),n=t[0],i=t[1],r=Object(lt.a)(),a=Object(Oe.a)(r,1)[0],o=Object(Qe.jsxs)(yc,{children:[Object(Qe.jsx)(vc,{onClick:function(){return i(!n)},children:"?"}),n&&Object(Qe.jsxs)(Qe.Fragment,{children:[Object(Qe.jsx)(bc,{onClick:function(){return i(!1)}}),Object(Qe.jsx)(fc,{children:Object(Qe.jsxs)(xc,{children:[Object(Qe.jsxs)(jc,{children:[Object(Qe.jsxs)(mc,{children:[Object(Qe.jsx)("strong",{children:"Aqua"})," from DXdao"]}),Object(Qe.jsx)(Oc,{children:a("texts.haveFeedback")}),Object(Qe.jsx)(hc,{src:pc,onClick:function(){return i(!1)}})]}),Object(Qe.jsxs)(gc,{children:[Object(Qe.jsx)(Cc,{title:a("buttons.sendFeedback"),description:a("buttons.sendFeedbackDescription"),icon:uc,link:"https://forms.gle/JSSVTWsM5Yy44ZUi7"}),Object(Qe.jsx)(Cc,{title:a("buttons.reportBug"),description:a("buttons.reportBugDescription"),icon:Yt,link:"https://github.com/cryptonative-ch/mesa-interface/issues/new"})]})]})})]})]});return s.a.createPortal(o,document.body)},Ac=Se.default.div(ic||(ic=Object(ge.a)(["\n  border: 1px solid #dddde3;\n  display: flex;\n  justify-content: space-between;\n  margin: 16px 0;\n  padding: 16px;\n  cursor: pointer;\n\n  &:hover {\n    border-color: #304ffe;\n  }\n"]))),Fc=Se.default.div(rc||(rc=Object(ge.a)(["\n  color: #000;\n  font-family: 'Inter';\n"]))),Mc=Se.default.img(ac||(ac=Object(ge.a)(["\n  width: 24px;\n  height: 24px;\n"]))),_c=Se.default.img(oc||(oc=Object(ge.a)(["\n  width: 48px;\n  height: 48px;\n"]))),Pc=Se.default.div(cc||(cc=Object(ge.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 32px;\n"]))),Bc=Se.default.div(sc||(sc=Object(ge.a)(["\n  color: #000;\n  font-family: 'Inter';\n  font-size: 18px;\n  font-weight: 500;\n  margin: 16px 0;\n"]))),Rc=function(e){var t=e.providerName,n=e.icon,i=e.onClick;return Object(Qe.jsxs)(Ac,{onClick:i,children:[Object(Qe.jsx)(Fc,{children:t}),Object(Qe.jsx)("div",{children:Object(Qe.jsx)(Mc,{src:n,alt:t})})]})},zc=function(e){var t=e.isShown,n=e.hide,i=Object(l.useContext)(Ye),r=i.connect,a=i.isConnecting,o=i.activatingConnector,c=o==Ke.Injected?"MetaMask":o;return Object(Qe.jsx)(ir,{isShown:t,hide:n,hideHeader:a,modalContent:Object(Qe.jsx)("div",{children:a&&o?Object(Qe.jsxs)(Pc,{children:[Object(Qe.jsx)(_c,{src:Ta[o],alt:o}),Object(Qe.jsxs)(Bc,{children:["Connect ",c," to Aqua"]}),Object(Qe.jsx)(Mr,{})]}):Object(Qe.jsxs)("div",{children:[Object(Qe.jsx)(Rc,{providerName:"MetaMask",icon:Ta[Ke.Injected],onClick:function(){return r(Ke.Injected)}}),Object(Qe.jsx)(Rc,{providerName:"WalletConnect",icon:Ta[Ke.WalletConnect],onClick:function(){return r(Ke.WalletConnect)}})]})}),headerText:"Connect to a Wallet"})},Lc=function(){var e=Object(lt.a)(),t=Object(Oe.a)(e,1)[0],n=Object(l.useState)(!1),i=Object(Oe.a)(n,2),r=i[0],c=i[1],s=Object(o.c)().account,d=Object(l.useContext)(Ye),u=d.disconnect,p=d.isConnecting,b=ct().isMobile,f=Object(a.c)((function(e){return e.network.validChainId})),x=Object(a.b)(),j=Object(l.useState)(!1),h=Object(Oe.a)(j,2),m=h[0],O=h[1],g=s?"".concat(s.substr(0,6),"...").concat(s.substr(-4)):"",y=window,v=function(e){var t=parseInt(e,16),n=ce.includes(t);x(n?{type:pe.NETWORK_SET_VALID_CHAIN_ID}:{type:pe.NETWORK_SET_INVALID_CHAIN_ID})};Object(l.useEffect)((function(){y.ethereum&&(v(y.ethereum.chainId),y.ethereum.on("chainChanged",(function(e){v(e)})))}),[]),Object(l.useEffect)((function(){document.body.style.overflow=r?"hidden":"auto"}),[r]),Object(l.useEffect)((function(){s&&O(!1)}),[s]);return b?Object(Qe.jsxs)(St,{padding:"0 0 0 24px",children:[Object(Qe.jsxs)(It,{expanded:r,children:[Object(Qe.jsxs)(St,{padding:"0 0 0 24px",backgroundColor:"#F2F2F2",children:[Object(Qe.jsxs)(pt,{flexDirection:"column",flex:1,children:[Object(Qe.jsx)(Tt,{children:"Mesa"}),Object(Qe.jsx)(At,{marginLeft:"0",children:"from DXdao"})]}),Object(Qe.jsx)(Pt,{src:qi,onClick:function(){return c(!1)}})]}),g.length>0?Object(Qe.jsxs)(pt,{padding:"24px",flex:1,flexDirection:"column",children:[Object(Qe.jsx)(Ct,{paddingTop:"0",marginBottom:"4px",children:"Connected with MetaMask"}),Object(Qe.jsx)(Ct,{paddingTop:"0",marginBottom:"16px",color:"#000629",children:g}),Object(Qe.jsx)(Ft,{onClick:u,backgroundColor:"#7B7F93",textColor:"white",padding:"0",width:"100%",margin:"0",justifyContent:"center",children:Object(Qe.jsx)(Mt,{children:"Disconnect"})})]}):Object(Qe.jsx)(pt,{padding:"24px",flex:1,flexDirection:"column",children:Object(Qe.jsx)(Ft,{onClick:function(){return s?u():O(!0)},backgroundColor:"#7B7F93",textColor:"white",padding:"0",width:"100%",margin:"0",justifyContent:"center",children:Object(Qe.jsx)(Mt,{children:p?"Connecting...":s?g:"Connect"})})}),Object(Qe.jsxs)(pt,{backgroundColor:"#FFFFFF",padding:"24px",flexDirection:"column",children:[Object(Qe.jsx)(jt,{to:"/about","data-testid":"about-ref",children:Object(Qe.jsx)(Ct,{children:t("navTitles.about")})}),Object(Qe.jsx)(jt,{to:"/contact","data-testid":"contact-ref",children:Object(Qe.jsx)(Ct,{children:t("navTitles.contact")})}),Object(Qe.jsx)("a",{href:"https://dxdao.eth.link",children:Object(Qe.jsx)(Ct,{children:"DXdao"})}),Object(Qe.jsx)("a",{href:"https://twitter.com/mesa_eth",children:Object(Qe.jsx)(Ct,{children:"Twitter"})}),Object(Qe.jsx)("a",{href:"https://discord.com/invite/4QXEJQkvHH",children:Object(Qe.jsx)(Ct,{children:"Discord"})}),Object(Qe.jsx)("a",{href:"https://keybase.io/team/dx_dao",children:Object(Qe.jsx)(Ct,{children:"Keybase"})}),Object(Qe.jsx)(Et,{}),Object(Qe.jsx)(Ct,{children:"Docs"}),Object(Qe.jsx)("a",{href:"https://github.com/cryptonative-ch/mesa-interface/releases/tag/v0.0.1",children:Object(Qe.jsxs)(Ct,{children:["FE V ",ae]})}),Object(Qe.jsx)("a",{href:"https://github.com/cryptonative-ch/mesa-smartcontracts/releases/tag/v0.0.1",children:Object(Qe.jsxs)(Ct,{children:["SC V ",oe]})})]})]}),Object(Qe.jsxs)(pt,{flexDirection:"column",flex:1,children:[Object(Qe.jsx)(Tt,{children:"Mesa"}),Object(Qe.jsx)(At,{marginLeft:"0",children:"from DXdao"})]}),!s&&!p&&Object(Qe.jsxs)(Ft,{onClick:function(){return O(!0)},backgroundColor:"#7B7F93",textColor:"white",padding:"0 24px",margin:"0",children:[Object(Qe.jsx)(Mt,{children:p?"Connecting...":s?g:"Connect"}),s&&Object(Qe.jsx)(_t,{})]}),Object(Qe.jsx)(Pt,{src:Ro,onClick:function(){return c(!0)}}),r&&Object(Qe.jsx)(Ec,{}),Object(Qe.jsx)(zc,{isShown:m,hide:function(){return O(!1)}})]}):Object(Qe.jsxs)(kt,{children:[!f&&Object(Qe.jsx)(dc,{error:!0,children:Object(Qe.jsx)(Ft,{onClick:function(){y.ethereum.request({method:"wallet_addEthereumChain",params:[de]})},backgroundColor:"#DDDDE3",textColor:"#000629",display:"inline",margin:"0 16px",children:Object(Qe.jsx)(Mt,{children:t("buttons.changetoxDaiNetwork")})})}),Object(Qe.jsxs)(St,{padding:"0 32px",children:[Object(Qe.jsxs)(Dt,{children:[Object(Qe.jsx)(Tt,{children:"Mesa"}),Object(Qe.jsx)(At,{children:"from DXdao"})]}),Object(Qe.jsxs)(Ft,{onClick:function(){return s?u():O(!0)},backgroundColor:s?"#DDDDE3":"#304FFE",textColor:s?"#000629":"white",children:[Object(Qe.jsx)(Mt,{children:p?"Connecting...":s?g:"Connect Wallet"}),s&&Object(Qe.jsx)(_t,{})]})]}),Object(Qe.jsx)(zc,{isShown:m,hide:function(){return O(!1)}})]})},Nc=Se.default.div({height:"72px",width:"100%",padding:"0 20px",outline:"0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",position:"absolute",bottom:"0"}),Wc=Se.default.img((function(){return{width:"16px",height:"16px",cursor:"pointer"}}),ut.n,ut.j),Hc=function(e){Object(yt.a)(e);var t=Object(lt.a)(),n=Object(Oe.a)(t,1)[0];return Object(Qe.jsxs)(Nc,{children:[Object(Qe.jsxs)(Dt,{children:[Object(Qe.jsx)(jt,{to:"/about","data-testid":"about-ref",children:Object(Qe.jsx)(Tt,{isFooter:!0,children:n("navTitles.about")})}),Object(Qe.jsx)(jt,{to:"/contact","data-testid":"contact-ref",children:Object(Qe.jsx)(Tt,{isFooter:!0,children:n("navTitles.contact")})}),Object(Qe.jsx)("a",{href:"https://dxdao.eth.link",children:Object(Qe.jsx)(Tt,{isFooter:!0,children:"DXdao"})}),Object(Qe.jsx)("a",{href:"https://twitter.com/mesa_eth",children:Object(Qe.jsx)(Tt,{isFooter:!0,children:"Twitter"})}),Object(Qe.jsx)("a",{href:"https://discord.com/invite/4QXEJQkvHH",children:Object(Qe.jsx)(Tt,{isFooter:!0,children:"Discord"})}),Object(Qe.jsx)("a",{href:"https://keybase.io/team/dx_dao",children:Object(Qe.jsx)(Tt,{isFooter:!0,children:"Keybase"})})]}),Object(Qe.jsxs)(Dt,{children:[Object(Qe.jsx)(Tt,{isFooter:!0,children:"Docs"}),Object(Qe.jsx)("a",{href:"https://github.com/cryptonative-ch",children:Object(Qe.jsx)(Wc,{src:Yt,height:"21px"})}),Object(Qe.jsx)("a",{href:"https://github.com/cryptonative-ch/mesa-interface/releases/tag/v0.0.1",children:Object(Qe.jsxs)(Tt,{isFooter:!0,children:["FE V ",ae]})}),Object(Qe.jsx)("a",{href:"https://github.com/cryptonative-ch/mesa-smartcontracts/releases/tag/v0.0.1",children:Object(Qe.jsxs)(Tt,{isFooter:!0,children:["SC V ",oe]})})]})]})},Uc=Se.default.div(lc||(lc=Object(ge.a)(["\n  position: relative;\n  min-height: 100vh;\n"]))),Gc=function(){var e=ct().isMobile,t=function(e){var t=Object(at.a)([e]),n=Object(Oe.a)(t,2),i=n[0],r=n[1],a=ot("true"!==i[e]),o=a.isShown,c=a.setShown;return{isShown:o,toggle:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&r("termsofsale","true",{path:"/"}),c(!o)}}}("termsofsale"),n=(t.isShown,t.toggle),i=Object(l.useState)(!1),r=Object(Oe.a)(i,2),a=r[0],c=r[1],s=Object(o.c)(),d=s.library,u=s.chainId,p=ye.XDAI_CONFIG;u&&u===te.RINKEBY&&(p=ye.RINKEBY_CONFIG);var b=new ve.a({cache:new we.a,uri:p.subgraph}),f=new ye.Mesa(p,d),x=Object(l.useCallback)((function(){B.a.get("https://ipapi.co/json/").then((function(e){var t=e.data;return c(re.includes(t.country_code))}))}),[]);Object(l.useEffect)((function(){x()}),[x]);var j=Object(Qe.jsx)(Qe.Fragment,{children:Object(Qe.jsx)("div",{children:"You agree to the Terms and Conditions of sale by pressing the Continue"})});return Object(Qe.jsx)($e,{children:Object(Qe.jsx)(Te.a,{children:Object(Qe.jsx)(ke.a,{client:b,children:Object(Qe.jsx)(fr.Provider,{value:f,children:Object(Qe.jsx)(qe.Provider,{value:a,children:Object(Qe.jsxs)(Se.ThemeProvider,{theme:rt,children:[Object(Qe.jsx)(tt,{}),Object(Qe.jsx)(l.Suspense,{fallback:Object(Qe.jsx)(bt,{minHeight:"100vh",children:"LOADING"}),children:Object(Qe.jsx)(De.a,{children:Object(Qe.jsxs)(Uc,{children:[Object(Qe.jsx)(Lc,{}),Object(Qe.jsx)(Bo,{}),Object(Qe.jsx)(ir,{isShown:false,hide:n,modalContent:j,headerText:"Confirmation",onConfirm:function(){return n(!0)}}),!e&&Object(Qe.jsx)(Hc,{}),Object(Qe.jsx)(Ie.a,{position:"bottom-right",autoClose:1e4,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),!e&&Object(Qe.jsx)(Ec,{})]})})})]})})})})})})},Vc=n(236),Kc=n(130),qc=n(237),Xc=n(183);Xc.a.use(qc.a).use(Vc.a).use(Kc.e).init({fallbackLng:"en",interpolation:{escapeValue:!1}});Xc.a;p.a.extend(g.a),p.a.extend(f.a),p.a.extend(j.a),p.a.extend(m.a),p.a.extend(g.a),p.a.extend(v.a),Object(c.render)(Object(Qe.jsx)(d.a.StrictMode,{children:Object(Qe.jsx)(a.a,{store:me,children:Object(Qe.jsx)(o.b,{getLibrary:function(e){return new r.a(e)},children:Object(Qe.jsx)(Gc,{})})})}),document.getElementById("root"))}},[[456,1,3]]]);
//# sourceMappingURL=main.b0f82923.chunk.js.map